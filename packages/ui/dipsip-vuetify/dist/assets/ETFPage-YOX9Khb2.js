import{C as we,r as Oe}from"./chart-8SaNzrGi.js";import{e as Ce,h as ne,g as ve,d as Ie,q as Ue,r as je,R as qe,u as Ke,s as Ye,t as Je,v as Ge,w as ge,x as He,y as Xe,z as We,A as be,B as Qe,C as Ze,D as $e,E as ye,F as et,_ as tt,a as at,V as lt,b as ue,c as te,j as ce,k as ae,f as ke,G as nt}from"./index-DiLNTO6V.js";import{d as Y,w as st,z as rt,N as X,O as De,P as d,m as r,Q as E,R as g,c as m,E as z,s as Se,p as ot,f as _e,H as xe,I as it,J as ut,F as Ae,n as K,S as de,V as j,U as ct,_ as dt}from"./vue-Ci2-vDhJ.js";import{p as W,aI as Ve,u as fe,ax as mt,z as Pe,m as Te,g as se,f as re,o as q,ay as vt,B as Fe,a0 as ft,E as ht}from"./vuetify-DvIUftl9.js";import{V as pt}from"./VDialog-3Oksv9Ch.js";we.register(...Oe);const gt={class:"d-flex flex-wrap gap-4 mb-4"},Ee={__name:"InvestmentChart",props:{priceData:{type:Array,required:!0,default:()=>[]},strategy1Data:{type:Array,required:!0,default:()=>[]},strategy2Data:{type:Array,required:!0,default:()=>[]}},setup(e){const t=e,n=Y(null);let l=null;const a=Y(2024),o=Y(1),v=[2024,2023,2022,2021,2020,2019],s=[{title:"Jan",value:1},{title:"Feb",value:2},{title:"Mar",value:3},{title:"Apr",value:4},{title:"May",value:5},{title:"Jun",value:6},{title:"Jul",value:7},{title:"Aug",value:8},{title:"Sep",value:9},{title:"Oct",value:10},{title:"Nov",value:11},{title:"Dec",value:12}],f=(k,c)=>k.filter(h=>{const p=new Date(c==="date"?h.date:h.investmentDate);return p.getFullYear()===a.value&&p.getMonth()+1===o.value}),y=()=>{const k=n.value.getContext("2d"),h=[...f(t.priceData,"date")].sort((u,C)=>new Date(u.date)-new Date(C.date)),p=h.map(u=>u.date),I=h.map(u=>u.price),w=f(t.strategy1Data,"investmentDate"),T=f(t.strategy2Data,"investmentDate"),N=p.map(u=>{const C=w.find(A=>A.investmentDate===u);return C?C.investmentAmount:null}),L=p.map(u=>{const C=T.find(A=>A.investmentDate===u);return C?C.investmentAmount:null});w.map(u=>({x:new Date(u.investmentDate).toISOString().split("T")[0],y:u.price,correction:u.correction})),T.map(u=>({x:new Date(u.investmentDate).toISOString().split("T")[0],y:u.price,correction:u.correction})),l=new we(k,{type:"bar",data:{labels:p.map(u=>u.toLocaleDateString()),datasets:[{type:"line",label:"Price",data:I,borderColor:"#8884d8",yAxisID:"price",tension:.4,cubicInterpolationMode:"monotone",fill:!1},{type:"bar",label:"DipSIP Investments",data:N,backgroundColor:"#82ca9d",yAxisID:"investment",order:2},{type:"bar",label:"SIP Investments",data:L,backgroundColor:"#ffc658",yAxisID:"investment",order:2}]},options:{responsive:!0,interaction:{intersect:!1,mode:"index"},scales:{price:{type:"linear",position:"right",title:{display:!0,text:"Price"}},investment:{type:"linear",position:"left",title:{display:!0,text:"Investment Amount"},grid:{drawOnChartArea:!1}},x:{title:{display:!0,text:"Date"},ticks:{callback:function(u,C){return new Date(this.getLabelForValue(u)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"})}}}},plugins:{tooltip:{callbacks:{label:function(u){return u.dataset.type==="scatter"?`Correction: ${u.raw.correction}%`:u.dataset.label+": "+u.formattedValue}}}}}})};return st([()=>t.priceData,()=>t.strategy1Data,()=>t.strategy2Data,a,o],()=>{l&&l.destroy(),y()},{deep:!0}),rt(()=>{y()}),(k,c)=>(X(),De(Ie,null,{default:d(()=>[r(Ce,null,{default:d(()=>c[2]||(c[2]=[E("DipSIP v/s SIP")])),_:1}),r(ve,null,{default:d(()=>[g("div",gt,[r(ne,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=h=>a.value=h),items:v,label:"Year",style:{"max-width":"120px"},density:"compact"},null,8,["modelValue"]),r(ne,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=h=>o.value=h),items:s,label:"Month",style:{"max-width":"120px"},density:"compact"},null,8,["modelValue"])]),g("canvas",{ref_key:"chartRef",ref:n},null,512)]),_:1})]),_:1}))}},he=Symbol.for("vuetify:v-slider");function bt(e,t,n){const l=n==="vertical",a=t.getBoundingClientRect(),o="touches"in e?e.touches[0]:e;return l?o.clientY-(a.top+a.height/2):o.clientX-(a.left+a.width/2)}function yt(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const kt=W({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Ue(),...je({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),St=e=>{const t=m(()=>parseFloat(e.min)),n=m(()=>parseFloat(e.max)),l=m(()=>+e.step>0?parseFloat(e.step):0),a=m(()=>Math.max(Ve(l.value),Ve(t.value)));function o(v){if(v=parseFloat(v),l.value<=0)return v;const s=Pe(v,t.value,n.value),f=t.value%l.value,y=Math.round((s-f)/l.value)*l.value+f;return parseFloat(Math.min(y,n.value).toFixed(a.value))}return{min:t,max:n,step:l,decimals:a,roundValue:o}},xt=e=>{let{props:t,steps:n,onSliderStart:l,onSliderMove:a,onSliderEnd:o,getActiveThumb:v}=e;const{isRtl:s}=fe(),f=z(t,"reverse"),y=m(()=>t.direction==="vertical"),k=m(()=>y.value!==f.value),{min:c,max:h,step:p,decimals:I,roundValue:w}=n,T=m(()=>parseInt(t.thumbSize,10)),N=m(()=>parseInt(t.tickSize,10)),L=m(()=>parseInt(t.trackSize,10)),u=m(()=>(h.value-c.value)/p.value),C=z(t,"disabled"),A=m(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=m(()=>t.error||t.disabled?void 0:t.trackColor??t.color),M=m(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),D=Se(!1),_=Se(0),B=Y(),R=Y();function b(i){var pe;const V=t.direction==="vertical",Me=V?"top":"left",Be=V?"height":"width",Re=V?"clientY":"clientX",{[Me]:Le,[Be]:Ne}=(pe=B.value)==null?void 0:pe.$el.getBoundingClientRect(),ze=yt(i,Re);let ie=Math.min(Math.max((ze-Le-_.value)/Ne,0),1)||0;return(V?k.value:k.value!==s.value)&&(ie=1-ie),w(c.value+ie*(h.value-c.value))}const O=i=>{o({value:b(i)}),D.value=!1,_.value=0},U=i=>{R.value=v(i),R.value&&(R.value.focus(),D.value=!0,R.value.contains(i.target)?_.value=bt(i,R.value,t.direction):(_.value=0,a({value:b(i)})),l({value:b(i)}))},F={passive:!0,capture:!0};function J(i){a({value:b(i)})}function Q(i){i.stopPropagation(),i.preventDefault(),O(i),window.removeEventListener("mousemove",J,F),window.removeEventListener("mouseup",Q)}function Z(i){var V;O(i),window.removeEventListener("touchmove",J,F),(V=i.target)==null||V.removeEventListener("touchend",Z)}function oe(i){var V;U(i),window.addEventListener("touchmove",J,F),(V=i.target)==null||V.addEventListener("touchend",Z,{passive:!1})}function P(i){i.preventDefault(),U(i),window.addEventListener("mousemove",J,F),window.addEventListener("mouseup",Q,{passive:!1})}const x=i=>{const V=(i-c.value)/(h.value-c.value)*100;return Pe(isNaN(V)?0:V,0,100)},G=z(t,"showTicks"),H=m(()=>G.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(i=>({value:i,position:x(i),label:i.toString()})):Object.keys(t.ticks).map(i=>({value:parseFloat(i),position:x(parseFloat(i)),label:t.ticks[i]})):u.value!==1/0?mt(u.value+1).map(i=>{const V=c.value+i*p.value;return{value:V,position:x(V)}}):[]:[]),$=m(()=>H.value.some(i=>{let{label:V}=i;return!!V})),ee={activeThumbRef:R,color:z(t,"color"),decimals:I,disabled:C,direction:z(t,"direction"),elevation:z(t,"elevation"),hasLabels:$,isReversed:f,indexFromEnd:k,min:c,max:h,mousePressed:D,numTicks:u,onSliderMousedown:P,onSliderTouchstart:oe,parsedTicks:H,parseMouseMove:b,position:x,readonly:z(t,"readonly"),rounded:z(t,"rounded"),roundValue:w,showTicks:G,startOffset:_,step:p,thumbSize:T,thumbColor:A,thumbLabel:z(t,"thumbLabel"),ticks:z(t,"ticks"),tickSize:N,trackColor:S,trackContainerRef:B,trackFillColor:M,trackSize:L,vertical:y};return ot(he,ee),ee},Vt=W({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Te()},"VSliderThumb"),wt=se()({name:"VSliderThumb",directives:{Ripple:qe},props:Vt(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:l}=t;const a=_e(he),{isRtl:o,rtlClasses:v}=fe();if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:f,disabled:y,thumbSize:k,thumbLabel:c,direction:h,isReversed:p,vertical:I,readonly:w,elevation:T,mousePressed:N,decimals:L,indexFromEnd:u}=a,C=m(()=>y.value?void 0:T.value),{elevationClasses:A}=Ke(C),{textColorClasses:S,textColorStyles:M}=Ye(s),{pageup:D,pagedown:_,end:B,home:R,left:b,right:O,down:U,up:F}=vt,J=[D,_,B,R,b,O,U,F],Q=m(()=>f.value?[1,2,3]:[1,5,10]);function Z(P,x){if(!J.includes(P.key))return;P.preventDefault();const G=f.value||.1,H=(e.max-e.min)/G;if([b,O,U,F].includes(P.key)){const ee=(I.value?[o.value?b:O,p.value?U:F]:u.value!==o.value?[b,F]:[O,F]).includes(P.key)?1:-1,i=P.shiftKey?2:P.ctrlKey?1:0;x=x+ee*G*Q.value[i]}else if(P.key===R)x=e.min;else if(P.key===B)x=e.max;else{const $=P.key===_?1:-1;x=x-$*G*(H>100?H/10:10)}return Math.max(e.min,Math.min(e.max,x))}function oe(P){const x=Z(P,e.modelValue);x!=null&&l("update:modelValue",x)}return re(()=>{const P=q(u.value?100-e.position:e.position,"%");return r("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&N.value},e.class,v.value],style:[{"--v-slider-thumb-position":P,"--v-slider-thumb-size":q(k.value)},e.style],role:"slider",tabindex:y.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!w.value,"aria-orientation":h.value,onKeydown:w.value?void 0:oe},[r("div",{class:["v-slider-thumb__surface",S.value,A.value],style:{...M.value}},null),xe(r("div",{class:["v-slider-thumb__ripple",S.value],style:M.value},null),[[it("ripple"),e.ripple,null,{circle:!0,center:!0}]]),r(Je,{origin:"bottom center"},{default:()=>{var x;return[xe(r("div",{class:"v-slider-thumb__label-container"},[r("div",{class:["v-slider-thumb__label"]},[r("div",null,[((x=n["thumb-label"])==null?void 0:x.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(f.value?L.value:1)])])]),[[ut,c.value&&e.focused||c.value==="always"]])]}})])}),{}}}),Ct=W({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Te()},"VSliderTrack"),It=se()({name:"VSliderTrack",props:Ct(),emits:{},setup(e,t){let{slots:n}=t;const l=_e(he);if(!l)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,parsedTicks:o,rounded:v,showTicks:s,tickSize:f,trackColor:y,trackFillColor:k,trackSize:c,vertical:h,min:p,max:I,indexFromEnd:w}=l,{roundedClasses:T}=Ge(v),{backgroundColorClasses:N,backgroundColorStyles:L}=ge(k),{backgroundColorClasses:u,backgroundColorStyles:C}=ge(y),A=m(()=>`inset-${h.value?"block":"inline"}-${w.value?"end":"start"}`),S=m(()=>h.value?"height":"width"),M=m(()=>({[A.value]:"0%",[S.value]:"100%"})),D=m(()=>e.stop-e.start),_=m(()=>({[A.value]:q(e.start,"%"),[S.value]:q(D.value,"%")})),B=m(()=>s.value?(h.value?o.value.slice().reverse():o.value).map((b,O)=>{var F;const U=b.value!==p.value&&b.value!==I.value?q(b.position,"%"):void 0;return r("div",{key:b.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":b.position>=e.start&&b.position<=e.stop,"v-slider-track__tick--first":b.value===p.value,"v-slider-track__tick--last":b.value===I.value}],style:{[A.value]:U}},[(b.label||n["tick-label"])&&r("div",{class:"v-slider-track__tick-label"},[((F=n["tick-label"])==null?void 0:F.call(n,{tick:b,index:O}))??b.label])])}):[]);return re(()=>r("div",{class:["v-slider-track",T.value,e.class],style:[{"--v-slider-track-size":q(c.value),"--v-slider-tick-size":q(f.value)},e.style]},[r("div",{class:["v-slider-track__background",u.value,{"v-slider-track__background--opacity":!!a.value||!k.value}],style:{...M.value,...C.value}},null),r("div",{class:["v-slider-track__fill",N.value],style:{..._.value,...L.value}},null),s.value&&r("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[B.value])])),{}}}),Dt=W({...He(),...kt(),...Xe(),modelValue:{type:[Number,String],default:0}},"VSlider"),_t=se()({name:"VSlider",props:Dt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:l}=t;const a=Y(),{rtlClasses:o}=fe(),v=St(e),s=Fe(e,"modelValue",void 0,S=>v.roundValue(S??v.min.value)),{min:f,max:y,mousePressed:k,roundValue:c,onSliderMousedown:h,onSliderTouchstart:p,trackContainerRef:I,position:w,hasLabels:T,readonly:N}=xt({props:e,steps:v,onSliderStart:()=>{l("start",s.value)},onSliderEnd:S=>{let{value:M}=S;const D=c(M);s.value=D,l("end",D)},onSliderMove:S=>{let{value:M}=S;return s.value=c(M)},getActiveThumb:()=>{var S;return(S=a.value)==null?void 0:S.$el}}),{isFocused:L,focus:u,blur:C}=We(e),A=m(()=>w(s.value));return re(()=>{const S=be.filterProps(e),M=!!(e.label||n.label||n.prepend);return r(be,K({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||T.value,"v-slider--focused":L.value,"v-slider--pressed":k.value,"v-slider--disabled":e.disabled},o.value,e.class],style:e.style},S,{focused:L.value}),{...n,prepend:M?D=>{var _,B;return r(Ae,null,[((_=n.label)==null?void 0:_.call(n,D))??(e.label?r(Qe,{id:D.id.value,class:"v-slider__label",text:e.label},null):void 0),(B=n.prepend)==null?void 0:B.call(n,D)])}:void 0,default:D=>{let{id:_,messagesId:B}=D;return r("div",{class:"v-slider__container",onMousedown:N.value?void 0:h,onTouchstartPassive:N.value?void 0:p},[r("input",{id:_.value,name:e.name||_.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),r(It,{ref:I,start:0,stop:A.value},{"tick-label":n["tick-label"]}),r(wt,{ref:a,"aria-describedby":B.value,focused:L.value,min:f.value,max:y.value,modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,position:A.value,elevation:e.elevation,onFocus:u,onBlur:C,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),At=W({id:String,text:String,...ft(Ze({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),me=se()({name:"VTooltip",props:At(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const l=Fe(e,"modelValue"),{scopeId:a}=$e(),o=ht(),v=m(()=>e.id||`v-tooltip-${o}`),s=Y(),f=m(()=>e.location.split(" ").length>1?e.location:e.location+" center"),y=m(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),k=m(()=>e.transition?e.transition:l.value?"scale-transition":"fade-transition"),c=m(()=>K({"aria-describedby":v.value},e.activatorProps));return re(()=>{const h=ye.filterProps(e);return r(ye,K({ref:s,class:["v-tooltip",e.class],style:e.style,id:v.value},h,{modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,transition:k.value,absolute:!0,location:f.value,origin:y.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},a),{activator:n.activator,default:function(){var T;for(var p=arguments.length,I=new Array(p),w=0;w<p;w++)I[w]=arguments[w];return((T=n.default)==null?void 0:T.call(n,...I))??e.text}})}),et({},s)}}),le=["NIFTYBEES","BANKBEES","AUTOBEES","ITBEES","MID150BEES","SMALLCAP","SHARIABEES","PHARMABEES","MAKEINDIA","TNIDETF"],Pt={async mounted(){this.$nextTick(()=>{const e=document.querySelector(".first-col");if(e){const t=e.offsetWidth;document.documentElement.style.setProperty("--first-col-width",`${t}px`)}});try{const e=await Promise.all(le.map(l=>fetch(`/api/indices/${l}`).then(a=>a.json()))),t=Object.fromEntries(le.map((l,a)=>[l,e[a]])),n=await at.get("/api/nse/instruments");this.etfList=n.data.filter(l=>le.indexOf(l.symbol)>-1);for(const l of this.etfList){if(le.indexOf(l.symbol)==-1)continue;const a=t[l.symbol];this.market[l.symbol]=a.map(o=>{const v=o.date.split("-");return{date:new Date(v[2],v[1]*1-1,v[0]),deltaPercent:parseFloat(o.change),price:parseFloat(o.price.replace(",",""))}})}this.updateInvestments()}catch(e){console.log(e)}},components:{InvestmentChart:Ee},methods:{updateInvestments(){this.base_amt=this.base_amtShort.substring(0,this.base_amtShort.length-2)*1e3,Object.keys(this.market).forEach(e=>{this.investments[e]={},this.totalUnitsBought[e]={},this.totalInvestment[e]={},this.currentValue[e]={},this.totalUnitsBought[e]={},this.returnsFromInvestment[e]={},this.showChart[e]=!1,this.makeInvestment(e,!0),this.makeInvestment(e,!1)})},incrementTrigger(){this.buy_factor<2&&(this.buy_factor+=.01),this.updateInvestments()},decrementTrigger(){this.buy_factor>1&&(this.buy_factor-=.01),this.updateInvestments()},xirr(e,t,n,l,a){if(e.length!==t.length)throw new Error("Cashflows and dates arrays must have the same length.");e.unshift(l),t.unshift(a),n=n||.1;let o=n,v=100,s=1e-5;for(let f=0;f<v;f++){let y=0,k=0;for(let c=0;c<e.length;c++){const h=t[c]-t[0];let p=Math.floor(h/(1e3*60*60*24)),I=Math.pow(1+o,p/365);y+=e[c]/I,k-=e[c]*p/365/I/(1+o)}if(Math.abs(y)<s)return o;o-=y/k}throw new Error("XIRR calculation did not converge.")},filterMonthlyData(e,t=!1){const n=new Map;return[...e].sort((a,o)=>t?o.date-a.date:a.date-o.date).forEach(a=>{const o=`${a.date.getFullYear()}-${String(a.date.getMonth()+1).padStart(2,"0")}`;n.has(o)||n.set(o,a)}),Array.from(n.values()).sort((a,o)=>a.date-o.date)},getCandidates(e,t){return t==!0?this.market[e].filter(n=>n.deltaPercent<=this.trigger*-1):this.filterMonthlyData(this.market[e],!0)},makeInvestment(e,t){this.investments[e][t]=[];const n=this.getCandidates(e,t);for(const l of n){const a=t?Math.round(this.base_amt*Math.pow(this.buy_factor,Math.abs(l.deltaPercent)*1-this.trigger*1)):this.totalInvestment[e][!0]/72,o=a/l.price;l.unitsBought=o,l.investedAmt=a,this.investments[e][t].push({investmentAmount:a,unitsBought:o,price:l.price,investmentDate:l.date,correction:l.deltaPercent})}this.totalUnitsBought[e][t]=n.reduce((l,a)=>l+a.unitsBought*1,0),this.totalInvestment[e][t]=n.reduce((l,a)=>l+a.investedAmt*1,0),this.currentValue[e][t]=this.totalUnitsBought[e][t]*this.market[e][0].price,this.returnsFromInvestment[e][t]=this.xirr(this.investments[e][t].map(l=>l.investmentAmount*-1),this.investments[e][t].map(l=>l.investmentDate),.12,this.currentValue[e][t],this.market[e][0].date)}},data(){return{etfList:[],market:{},investments:[],totalInvestment:{},totalUnitsBought:{},lastDate:{},currentValue:{},returnsFromInvestment:{},buy_factor:1.33,base_amtShort:"10 k",base_amt:1e4,trigger:2,tooltip_baseAmt:"Base Amount (think SIP amount), on which the Allocation Factor is applied. Each investment is therefore small, and relatively low risk, but staggered trades over long periods of time add up to big compounding corpus.",tooltip_trigger:"You invest when your index falls more than this percentage",tooltip_buy_factor:"Allocation Factor: A function, that increases allocation as the specific index correction increases. Factor of 1 means constant base amount, irrespective of correction severity. Factor of 2 (most aggressive) means investment amount doubles on every 1 % correction.",showChart:{},priceData:[{date:"2024-12-31",price:"22,834.00",change:"0.29%"},{date:"2024-12-30",price:"22,768.25",change:"-1.43%"}],strategy1Data:[{investmentAmount:10029,unitsBought:589.94,price:17,investmentDate:"2024-12-20",correction:-2.01},{investmentAmount:13530,unitsBought:845.63,price:16,investmentDate:"2024-11-13",correction:-3.06}],strategy2Data:[{investmentAmount:18119.42,unitsBought:3623.88,price:5,investmentDate:"2019-01-31",correction:.55},{investmentAmount:18119.42,unitsBought:4529.85,price:4,investmentDate:"2019-02-28",correction:.86}]}}},Tt={class:"d-flex align-center"},Ft={class:"d-flex align-center"},Et={class:"d-flex align-center"},Mt={class:"table-wrapper"},Bt={class:"sticky-col first-col"},Rt={class:"sticky-col second-col"};function Lt(e,t,n,l,a,o){const v=Ee;return X(),de("div",null,[r(lt,null,{default:d(()=>[r(ue,{justify:"center",align:"center",nogutters:""},{default:d(()=>[r(te,{cols:"6"},{default:d(()=>[g("div",Tt,[r(ne,{theme:"light","onUpdate:menu":o.updateInvestments,modelValue:a.base_amtShort,"onUpdate:modelValue":t[0]||(t[0]=s=>a.base_amtShort=s),items:["1 k","10 k","20 k","30 k","40 k","50 k","60 k","70 k","80 k","90 k"],variant:"underlined",label:"Amount"},null,8,["onUpdate:menu","modelValue"]),r(me,{location:"top",text:a.tooltip_baseAmt,"open-on-click":!0,"open-on-hover":!1},{activator:d(({props:s})=>[r(ce,K(s,{size:"small",color:"grey",class:"ml-1"}),{default:d(()=>t[3]||(t[3]=[E(" $mdiInformationOutline ")])),_:2},1040)]),_:1},8,["text"])])]),_:1}),r(te,{cols:"6"},{default:d(()=>[g("div",Ft,[r(ne,{theme:"light",label:"Trigger (%)","max-width":"70px","onUpdate:menu":o.updateInvestments,modelValue:a.trigger,"onUpdate:modelValue":t[1]||(t[1]=s=>a.trigger=s),items:["1","2","3","4","5"],variant:"underlined"},null,8,["onUpdate:menu","modelValue"]),r(me,{location:"top",text:a.tooltip_trigger,"open-on-click":!0,"open-on-hover":!1},{activator:d(({props:s})=>[r(ce,K(s,{size:"small",color:"grey",class:"ml-1"}),{default:d(()=>t[4]||(t[4]=[E(" $mdiInformationOutline ")])),_:2},1040)]),_:1},8,["text"])])]),_:1})]),_:1}),r(ue,{"no-gutters":""},{default:d(()=>[r(te,null,{default:d(()=>[g("div",Et,[r(_t,{"max-width":"300px",class:"ml-1 mr-1",modelValue:a.buy_factor,"onUpdate:modelValue":t[2]||(t[2]=s=>a.buy_factor=s),onEnd:o.updateInvestments,max:2,min:1,step:.01,"thumb-label":"",elevation:"2","thumb-size":"20"},{label:d(()=>t[5]||(t[5]=[E(" Allocation Factor ")])),prepend:d(()=>[r(ae,{color:e.color,icon:"$mdiMinus",size:"small",variant:"text",onClick:o.decrementTrigger},null,8,["color","onClick"])]),append:d(()=>[r(ae,{onClick:o.incrementTrigger,color:e.color,icon:"$mdiPlus",size:"small",variant:"text"},null,8,["onClick","color"])]),"thumb-label":d(({modelValue:s})=>[E(j(s.toFixed(2)),1)]),_:1},8,["modelValue","onEnd"]),r(me,{location:"top",text:a.tooltip_buy_factor,"open-on-click":!0,"open-on-hover":!1},{activator:d(({props:s})=>[r(ce,K(s,{size:"small",color:"grey",class:"ml-1"}),{default:d(()=>t[6]||(t[6]=[E(" $mdiInformationOutline ")])),_:2},1040)]),_:1},8,["text"])])]),_:1})]),_:1}),r(ue,{justify:"center",align:"center"},{default:d(()=>[r(te,{cols:"12",md:"10",lg:"12"},{default:d(()=>[r(Ie,{class:"pb-2",color:"#FFA000",theme:"light","max-width":e.$vuetify.display.mdAndDown?"380px":"100%"},{default:d(()=>[r(Ce,null,{default:d(()=>t[7]||(t[7]=[E("ETFs")])),_:1}),r(ke,null,{default:d(()=>t[8]||(t[8]=[E("Scroll Right for all columns.")])),_:1}),r(ke,null,{default:d(()=>t[9]||(t[9]=[E("Analysis Period : Returns (XIRR) calculated from Jan-2019 till Dec-2024")])),_:1}),r(ve,null,{default:d(()=>t[10]||(t[10]=[E("DipSip on Volatile Indexes Presents Better and More Investing Opportunities. Increasing the Allocation Factor, improves Returns because you buy more, when index corrects more.")])),_:1}),r(ve,null,{default:d(()=>t[11]||(t[11]=[E("MAKEINDIA, DIGITALINDIA Data only from 2022 onwards")])),_:1}),g("div",Mt,[r(nt,{density:"compact",theme:"light",class:"ml-2 mr-2 responsive-table","fixed-header":""},{default:d(()=>[t[14]||(t[14]=g("thead",null,[g("tr",null,[g("th",{class:"text-left sticky-col first-col"},"Code"),g("th",{class:"text-left sticky-col second-col text-nowrap"},"DipSIP %"),g("th",{class:"text-left text-nowrap"},"Investment"),g("th",{class:"text-left text-nowrap"},"₹ Final (DipSIP)"),g("th",{class:"text-left text-nowrap"},"SIP %"),g("th",{class:"text-left text-nowrap"},"₹ Final (SIP)"),g("th",{class:"text-left"},"Underlying"),g("th",{class:"text-left"},"Details")])],-1)),g("tbody",null,[(X(!0),de(Ae,null,ct(a.etfList,s=>(X(),de("tr",{key:s.symbol},[g("td",Bt,j(s.symbol),1),g("td",Rt,j(Math.round(a.returnsFromInvestment[s.symbol][!0]*1e4)/100),1),g("td",null,j(Math.round(a.totalInvestment[s.symbol][!0]).toLocaleString()),1),g("td",null,j(Math.round(a.currentValue[s.symbol][!0]).toLocaleString()),1),g("td",null,j(Math.round(a.returnsFromInvestment[s.symbol][!1]*1e4)/100),1),g("td",null,j(Math.round(a.currentValue[s.symbol][!1]).toLocaleString()),1),g("td",null,j(s.underlying),1),g("td",null,[r(pt,{modelValue:a.showChart[s.symbol],"onUpdate:modelValue":f=>a.showChart[s.symbol]=f,width:"1000"},{activator:d(({props:f})=>[r(ae,K({ref_for:!0},f),{default:d(()=>t[12]||(t[12]=[E(" Details ")])),_:2},1040)]),default:d(()=>[a.showChart[s.symbol]?(X(),De(v,{key:0,"price-data":a.market[s.symbol],"strategy1-data":a.investments[s.symbol][!0],"strategy2-data":a.investments[s.symbol][!1]},null,8,["price-data","strategy1-data","strategy2-data"])):dt("",!0),r(ae,{onClick:f=>a.showChart[s.symbol]=!1},{default:d(()=>t[13]||(t[13]=[E("Close")])),_:2},1032,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})])]),_:1},8,["max-width"])]),_:1})]),_:1})]),_:1})])}const qt=tt(Pt,[["render",Lt]]);export{qt as default};
//# sourceMappingURL=ETFPage-YOX9Khb2.js.map
