import{M as v,V as L}from"./VAutocomplete-beqZZ55r.js";import{_ as S,P as x,s as I,v as g,G as M,x as E,y as b,C as f,z as D,A as h,B as V,E as F,p as y,o as C,w as N}from"./index-DDejPH6C.js";import{V as A}from"./VSnackbar-CMpqsVT_.js";import{O as m,P as s,N as d,m as a,Q as o,V as c,_ as w,R as B,S as R,U as G,F as P,n as T,$ as U}from"./vue-BQEgaIvT.js";import"./vuetify-BbdkIOBN.js";import"./VDialog-BfDiqfrH.js";const W={name:"ChatApp",components:{MutualFundAnalysis:v,PromptChat:x},data(){return{messages:[],userInput:"",isLoading:!1,showError:!1,errorMessage:"",fundList:[],selectedFunds:[],portfolio:[],compareData:{},searchText:"",title:"Mutual Fund Helper Agent",subTitles:["Ask what Google/ChatGPT cannot answer. E.g.","Find - किन म्यूचुअल फंडों में रिटर्न 20% से अधिक है, शुल्क 0.5% से कम है","Stock Discovery - Which stocks are present in only 1 small cap fund","Reasoning - Define Churn as stocks bought plus stocks sold in a fund. Which funds had highest churn","** Trained on Indian data, can make mistakes"],userInputLabel:"This is an AI tool. Double Check",debug:!1,distilledModel:"analysis_reasoning",analysisTypes:[{name:"Overlap",color:"primary",icon:"mdi-compare"},{name:"Diversification",color:"success",icon:"mdi-chart-pie"},{name:"Performance",color:"info",icon:"mdi-chart-line"},{name:"Fees",color:"warning",icon:"mdi-alert-circle-outline"}]}},computed:I(["loggedInGoogle","userGoogle"]),methods:{customFilter(l,e){const n=l.toLowerCase();return e.toLowerCase().split(/\s+/).every(u=>n.includes(u))},async fetchFundList(){try{const l=await g.get("/api/mutualfunds/list");this.fundList=l.data.map(e=>{let n=e.return_3Y?" (3 Y Returns "+e.return_3Y+" %)":"";for(let i=1;i<=e.star_rating;i++)n+="⭐";return{name:e.name,displayName:e.name+n}})}catch(l){console.error("Error fetching fund list:",l)}},async sendCompare(){try{const l=await g.post("/api/mutualfunds/compare",{fundList:this.selectedFunds});this.compareData=l.data}catch(l){console.error("Error in sendCompare:",l)}},handleSearch(l){this.searchText=l},handleFundSelection(l){this.portfolio.value=l.map(e=>({...this.fundList.find(i=>i.name===e),currentValue:"",investedDate:"",investedAmount:""}))},scrollToBottom(){const l=this.$refs.messagesContainer;l&&(l.scrollTop=l.scrollHeight)}},async mounted(){this.fundList.length==0&&await this.fetchFundList()}};function O(l,e,n,i,t,u){const _=U("prompt-chat"),k=v;return d(),m(M,null,{default:s(()=>[a(N,{fluid:"",class:"fill-height pa-0"},{default:s(()=>[a(E,{"no-gutters":"",class:"fill-height"},{default:s(()=>[a(b,{cols:"12",md:"6",order:"first","order-md":"first",class:"left-panel"},{default:s(()=>[a(_,{distilledModel:t.distilledModel,title:t.title,subTitles:t.subTitles,userInputLabel:t.userInputLabel,debug:t.debug},null,8,["distilledModel","title","subTitles","userInputLabel","debug"])]),_:1}),a(b,{cols:"12",md:"6",order:"last","order-md":"last",class:"right-panel"},{default:s(()=>[l.loggedInGoogle===!0?(d(),m(f,{key:0},{default:s(()=>[o("Welcome "+c(l.userGoogle.displayName),1)]),_:1})):w("",!0),a(D,null,{default:s(()=>[a(h,null,{default:s(()=>e[4]||(e[4]=[o("We are NOT registered with SEBI.")])),_:1}),a(h,{class:"subtitle-wrap"},{default:s(()=>e[5]||(e[5]=[o("No Investment advice. Only providing DIY query tools.")])),_:1}),a(h,{class:"subtitle-wrap"},{default:s(()=>e[6]||(e[6]=[o("Select 2 or More Funds")])),_:1}),a(V,{class:"subtitle-wrap"},{default:s(()=>e[7]||(e[7]=[o(" Reduce Overlap ")])),_:1}),a(V,{class:"subtitle-wrap"},{default:s(()=>e[8]||(e[8]=[o(" Fee of ETFs can be 10X lower than Mutual Funds. "),B("a",{href:"/etfList"},"See ETFs",-1)])),_:1}),a(f,{class:"pb-0"},{default:s(()=>[(d(!0),R(P,null,G(t.analysisTypes,r=>(d(),m(y,{key:r.name,class:"me-2 mb-2",color:r.color,variant:"outlined"},{default:s(()=>[a(C,{start:""},{default:s(()=>[o(c(r.icon),1)]),_:2},1024),o(" "+c(r.name),1)]),_:2},1032,["color"]))),128))]),_:1}),a(f,null,{default:s(()=>[a(F,{disabled:t.selectedFunds.length<=1,onClick:e[0]||(e[0]=r=>u.sendCompare(t.selectedFunds)),color:"amber"},{default:s(()=>e[9]||(e[9]=[o("Compare")])),_:1},8,["disabled"]),a(L,{modelValue:t.selectedFunds,"onUpdate:modelValue":[e[1]||(e[1]=r=>t.selectedFunds=r),u.handleFundSelection],items:t.fundList,"item-title":"displayName","custom-filter":u.customFilter,"item-value":"name",label:"Select Mutual Funds "+(t.selectedFunds.length?`(${t.selectedFunds.length} selected)`:""),multiple:"",chips:"","closable-chips":"","persistent-hint":"",hint:"Partial match works while typing e.g. 'Motilal Small'",search:t.searchText,"onUpdate:search":u.handleSearch},{chip:s(({props:r,item:p})=>[a(y,T(r,{text:p.raw.name,variant:"elevated"}),{default:s(()=>[a(C,{start:""},{default:s(()=>e[10]||(e[10]=[o("mdi-chart-line")])),_:1}),o(" "+c(p.raw.name),1)]),_:2},1040,["text"])]),_:1},8,["modelValue","items","custom-filter","label","onUpdate:modelValue","search","onUpdate:search"])]),_:1}),t.compareData.overlaps?(d(),m(k,{key:0,analysisReport:t.compareData},null,8,["analysisReport"])):w("",!0)]),_:1})]),_:1})]),_:1}),a(A,{modelValue:t.showError,"onUpdate:modelValue":e[3]||(e[3]=r=>t.showError=r),color:"error",timeout:"3000"},{action:s(({attrs:r})=>[a(F,T({text:""},r,{onClick:e[2]||(e[2]=p=>t.showError=!1)}),{default:s(()=>e[11]||(e[11]=[o(" Close ")])),_:2},1040)]),default:s(()=>[o(c(t.errorMessage)+" ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}const j=S(W,[["render",O],["__scopeId","data-v-3db5db98"]]);export{j as default};
//# sourceMappingURL=MutualFund-BqqxHpaq.js.map
