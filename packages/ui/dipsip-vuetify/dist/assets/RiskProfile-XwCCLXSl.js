import{w as K}from"./apexcharts-BF8gMu54.js";import{h as ae,d as P,G as se,z as oe,g as ie,q as re,t as ne,w as F,k as le,A as ce,$ as ue,N as _,S as N,O as A,a as b,P as c,m as p,Q as $,V as v,R as h,U as X,F as H,_ as de}from"./vue-CltRCLGX.js";import{_ as te,w as pe,y as R,z as he,A as me,C as Z,x as L,a1 as ve,a2 as ge,F as J,a3 as fe,a4 as ye,a5 as _e,i as we,j as xe,a6 as ke,a7 as be}from"./index-D1WAy73t.js";import"./vuetify-DFyGEC3H.js";const ee=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"],G=ae({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:ee,setup(o,{emit:M}){const C=P(null),a=P(null),w=t=>t&&typeof t=="object"&&!Array.isArray(t)&&t!=null,f=(t,n)=>{typeof Object.assign!="function"&&function(){Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");let D=Object(u);for(let S=1;S<arguments.length;S++){let z=arguments[S];if(z!=null)for(let U in z)z.hasOwnProperty(U)&&(D[U]=z[U])}return D}}();let k=Object.assign({},t);return w(t)&&w(n)&&Object.keys(n).forEach(u=>{w(n[u])?u in t?k[u]=f(t[u],n[u]):Object.assign(k,{[u]:n[u]}):Object.assign(k,{[u]:n[u]})}),k},l=async()=>{if(await ce(),a.value)return;const t={chart:{type:o.type||o.options.chart.type||"line",height:o.height,width:o.width,events:{}},series:o.series},n=o.options.chart?o.options.chart.events:null;ee.forEach(u=>{let D=(...S)=>M(u,...S);t.chart.events[u]=(...S)=>{D(...S),n&&n.hasOwnProperty(u)&&n[u](...S)}});const k=f(o.options,t);return a.value=new K(C.value,k),a.value.render()},T=()=>(q(),l()),q=()=>{a.value.destroy(),a.value=null},I=(t,n)=>a.value.updateSeries(t,n),O=(t,n,k,u)=>a.value.updateOptions(t,n,k,u),V=t=>a.value.toggleSeries(t),Q=t=>{a.value.showSeries(t)},B=t=>{a.value.hideSeries(t)},E=(t,n)=>a.value.appendSeries(t,n),Y=()=>{a.value.resetSeries()},W=(t,n)=>{a.value.toggleDataPointSelection(t,n)},j=t=>a.value.appendData(t),r=(t,n)=>a.value.zoomX(t,n),i=t=>a.value.dataURI(t),s=t=>a.value.setLocale(t),d=(t,n)=>{a.value.addXaxisAnnotation(t,n)},e=(t,n)=>{a.value.addYaxisAnnotation(t,n)},m=(t,n)=>{a.value.addPointAnnotation(t,n)},g=(t,n)=>{a.value.removeAnnotation(t,n)},y=()=>{a.value.clearAnnotations()};se(()=>{window.ApexCharts=K}),oe(()=>{C.value=ie().proxy.$el,l()}),re(()=>{a.value&&q()});const x=ne(o);return F(x.options,()=>{!a.value&&o.options?l():a.value.updateOptions(o.options)}),F(x.series,()=>{!a.value&&o.series?l():a.value.updateSeries(o.series)},{deep:!0}),F(x.type,()=>{T()}),F(x.width,()=>{T()}),F(x.height,()=>{T()}),{chart:a,init:l,refresh:T,destroy:q,updateOptions:O,updateSeries:I,toggleSeries:V,showSeries:Q,hideSeries:B,resetSeries:Y,zoomX:r,toggleDataPointSelection:W,appendData:j,appendSeries:E,addXaxisAnnotation:d,addYaxisAnnotation:e,addPointAnnotation:m,removeAnnotation:g,clearAnnotations:y,setLocale:s,dataURI:i}},render(){return le("div",{class:"vue-apexcharts"})}}),Te=o=>{o.component(G.name,G)};G.install=Te;const Ce={name:"RiskRadarChart",components:{apexcharts:G},props:{categoryScores:{type:Array,required:!0,default:()=>[]}},data(){return{componentKey:0}},computed:{series(){return[{name:"Category Score",data:this.categoryScores.map(o=>o.score)}]},chartOptions(){return{chart:{type:"radar",toolbar:{show:!1},fontFamily:"inherit"},xaxis:{categories:this.categoryScores.map(o=>o.category),labels:{style:{fontSize:"12px"}}},yaxis:{show:!0,min:0,max:100,labels:{formatter:o=>`${Math.round(o)}%`}},fill:{opacity:.6,colors:["#FFA000"]},stroke:{width:2,colors:["#FFA000"]},markers:{size:4,colors:["#FFA000"],hover:{size:6}},tooltip:{y:{formatter:o=>`${Math.round(o)}%`}},theme:{palette:"palette1"},plotOptions:{radar:{polygons:{strokeColors:"#e9e9e9",fill:{colors:["#f8f8f8","#fff"]}}}}}}},watch:{categoryScores:{handler(o){console.log("categoryScores changed:",o),this.$nextTick(()=>{this.$refs.chartRef&&(this.$refs.chartRef.updateOptions(this.chartOptions),this.$refs.chartRef.updateSeries(this.series))})},deep:!0},series:{handler(o){console.log("series changed:",o)},deep:!0},chartOptions:{handler(o){console.log("options changed:",o)},deep:!0}},mounted(){this.$nextTick(()=>{console.log("Mounting chart..."),this.$refs.chartRef&&console.log("Chart ref found")})},beforeUnmount(){this.chart&&this.chart.destroy()},errorCaptured(o,M,C){return console.error("Chart Error:",o),console.error("Component:",M),console.error("Info:",C),!1}},Ee={class:"risk-radar-chart"};function Se(o,M,C,a,w,f){const l=ue("apexcharts");return _(),N("div",Ee,[(_(),A(l,{id:"risk-radar",ref:"chartRef",key:w.componentKey,width:"100%",height:"600",type:"radar",options:f.chartOptions,series:f.series},null,8,["options","series"]))])}const qe=te(Ce,[["render",Se],["__scopeId","data-v-342f994d"]]),Ae={class:"mt-2 d-flex flex-column flex-sm-row justify-space-between"},Me={class:"text-subtitle-2"},Ie={class:"text-subtitle-2"},Pe={class:"text-h6 mb-4"},Fe={class:"options-container"},Re={class:"pa-3 w-100"},Le={key:0,class:"text-caption text-grey mt-1"},Ne={class:"mb-6"},Oe={class:"mb-6"},Ve={class:"text-h6 mb-2"},Be={class:"mb-4"},Ye={class:"mb-6"},je={class:"d-flex justify-space-between align-center w-100"},De={class:"text-primary"},ze={__name:"RiskProfile",setup(o,{expose:M}){const C=b(()=>{const r=new Map,i=new Map;return a.forEach(s=>{r.set(s.title,0),i.set(s.title,0)}),Object.entries(l.value).forEach(([s,d])=>{for(const e of a)if(e.questions.find(g=>g.id===s)&&d.risk_score){const g=r.get(e.title)||0,y=i.get(e.title)||0;r.set(e.title,g+d.risk_score/4*100),i.set(e.title,y+1);break}}),Array.from(r.entries()).map(([s,d])=>({category:s,score:i.get(s)?Math.round(d/i.get(s)):0}))}),a=[{id:"demographics",title:"Personal Demographics",questions:[{id:"age_group",text:"Which age group do you belong to?",type:"demographics",user_answer:null,options:[{value:"18_25",text:"18-25 years",weight:4,risk_score:4,note:"Longer investment horizon allows for higher risk capacity"},{value:"26_35",text:"26-35 years",weight:4,risk_score:4,note:"Prime earning years with good risk capacity"},{value:"36_45",text:"36-45 years",weight:3,risk_score:3,note:"Balanced approach recommended"},{value:"46_55",text:"46-55 years",weight:2,risk_score:2,note:"Consider reducing high-risk exposures"},{value:"56_65",text:"56-65 years",weight:1,risk_score:1,note:"Focus on capital preservation"},{value:"above_65",text:"Above 65 years",weight:1,risk_score:1,note:"Conservative approach recommended"}]},{id:"employment_status",text:"What is your current employment status?",type:"demographics",user_answer:null,options:[{value:"salaried",text:"Salaried (Private Sector)",weight:3,income_stability:"stable"},{value:"govt",text:"Government Employee",weight:4,income_stability:"very_stable"},{value:"business",text:"Self-Employed/Business Owner",weight:2,income_stability:"variable"},{value:"professional",text:"Independent Professional (Doctor/CA/Lawyer etc.)",weight:3,income_stability:"stable"},{value:"retired",text:"Retired",weight:1,income_stability:"fixed"},{value:"other",text:"Other/Not Currently Employed",weight:1,income_stability:"uncertain"}]},{id:"income_source",text:"How would you describe your income stream?",type:"demographics",user_answer:null,options:[{value:"very_stable",text:"Very stable with regular increments",weight:4,risk_score:4},{value:"stable",text:"Stable but limited growth",weight:3,risk_score:3},{value:"variable",text:"Variable but predictable",weight:2,risk_score:2},{value:"uncertain",text:"Highly variable/uncertain",weight:1,risk_score:1}]}]},{id:"financial_health",title:"Financial Health Assessment",questions:[{id:"monthly_savings",text:"What percentage of your monthly income do you save/invest?",type:"savings_capacity",user_answer:null,options:[{value:1,text:"Less than 10%",weight:1,risk_score:1},{value:2,text:"10% to 20%",weight:2,risk_score:2},{value:3,text:"20% to 30%",weight:3,risk_score:3},{value:4,text:"More than 30%",weight:4,risk_score:4}]},{id:"emergency_fund",text:"Do you have an emergency fund covering your expenses?",type:"financial_security",user_answer:null,options:[{value:1,text:"No emergency fund",weight:0,risk_score:1},{value:2,text:"1-3 months of expenses",weight:2,risk_score:2},{value:3,text:"3-6 months of expenses",weight:3,risk_score:3},{value:4,text:"More than 6 months of expenses",weight:4,risk_score:4}]},{id:"debt_obligations",text:"What percentage of your monthly income goes towards EMIs/debt payments?",type:"financial_security",user_answer:null,options:[{value:1,text:"More than 50%",weight:1,risk_score:1},{value:2,text:"30% to 50%",weight:2,risk_score:2},{value:3,text:"10% to 30%",weight:3,risk_score:3},{value:4,text:"Less than 10%",weight:4,risk_score:4}]}]},{id:"market_understanding",title:"Market Understanding",questions:[{id:"market_experience",text:"How long have you been investing in stock markets?",type:"experience",user_answer:null,options:[{value:1,text:"Never invested before",weight:1,risk_score:1},{value:2,text:"Less than 2 years",weight:2,risk_score:2},{value:3,text:"2-5 years",weight:3,risk_score:3},{value:4,text:"More than 5 years",weight:4,risk_score:4}]},{id:"volatility_understanding",text:"How well do you understand market volatility and its impact on different sized companies?",type:"experience",user_answer:null,options:[{value:1,text:"Limited understanding",weight:1,risk_score:1},{value:2,text:"Basic understanding of large companies",weight:2,risk_score:2},{value:3,text:"Good understanding of market dynamics",weight:3,risk_score:3},{value:4,text:"Deep understanding of all market segments",weight:4,risk_score:4}]}]},{id:"risk_assessment",title:"Risk Assessment",questions:[{id:"investment_horizon",text:"What is your primary investment time horizon?",type:"time_horizon",user_answer:null,options:[{value:1,text:"Less than 1 year",weight:1,risk_score:1},{value:2,text:"1-3 years",weight:2,risk_score:2},{value:3,text:"3-5 years",weight:3,risk_score:3},{value:4,text:"More than 5 years",weight:4,risk_score:4}]},{id:"loss_tolerance",text:"If your portfolio dropped 20% in a month, what would you do?",type:"risk_tolerance",user_answer:null,options:[{value:1,text:"Sell everything immediately",weight:1,risk_score:1},{value:2,text:"Sell some investments",weight:2,risk_score:2},{value:3,text:"Hold and wait for recovery",weight:3,risk_score:3},{value:4,text:"Buy more at lower prices",weight:4,risk_score:4}]}]}],w=P(0),f=P(0),l=P({}),T=P(!1),q=b(()=>a[w.value]),I=b(()=>q.value.questions[f.value]),O=b(()=>{let r=1;for(let i=0;i<w.value;i++)r+=a[i].questions.length;return r+f.value}),V=b(()=>a.reduce((r,i)=>r+i.questions.length,0)),Q=b(()=>(O.value-1)/V.value*100),B=b(()=>{let r=0,i=0;return Object.values(l.value).forEach(s=>{s.risk_score&&(r+=s.risk_score,i++)}),i?r/(i*4)*100:0}),E=b(()=>{const r=B.value;return r<25?{title:"Conservative",description:"You prefer stability and capital preservation. Focus on low-volatility investments with steady returns."}:r<50?{title:"Moderate",description:"You seek a balance between growth and stability, comfortable with moderate market fluctuations."}:r<75?{title:"Growth",description:"You prioritize long-term growth and can tolerate significant market volatility."}:{title:"Aggressive",description:"You seek maximum growth potential and are comfortable with high market volatility."}});b(()=>{var m,g,y;const r=((m=l.value.age_group)==null?void 0:m.value)||"",i=((g=l.value.employment_status)==null?void 0:g.value)||"",s=((y=l.value.income_source)==null?void 0:y.value)||"";let d=B.value;r.startsWith("18")||r.startsWith("26")?d*=1.2:(r.startsWith("56")||r.startsWith("above"))&&(d*=.8),i==="govt"?d*=1.2:(i==="retired"||i==="other")&&(d*=.8),s==="very_stable"?d*=1.1:s==="uncertain"&&(d*=.8);const e=Math.min(d,100);return e<25?{title:"Conservative",description:"Based on your age, employment status, and other factors, a conservative approach is recommended. Focus on capital preservation with stable, low-volatility investments."}:e<50?{title:"Moderate",description:"Your profile suggests a balanced approach. While you have some risk capacity, maintaining stability is important given your circumstances."}:e<75?{title:"Growth",description:"Your age and income stability support a growth-oriented approach. You can consider a good mix of different market caps while maintaining some safety."}:{title:"Aggressive",description:"Your young age and stable income support an aggressive growth approach. You can consider higher exposure to mid and small caps."}});const Y=b(()=>{var g,y,x;const r=E.value.title;(g=l.value.age_group)!=null&&g.value;const i=((y=l.value.cap_volatility)==null?void 0:y.cap_preference)||"mixed",s=((x=l.value.alternative_assets)==null?void 0:x.value)||"none";let e={Conservative:{equityTotal:40,alternativesTotal:30,debtTotal:30,largeCap:35,midCap:5,smallCap:0},Moderate:{equityTotal:60,alternativesTotal:20,debtTotal:20,largeCap:40,midCap:15,smallCap:5},Growth:{equityTotal:75,alternativesTotal:15,debtTotal:10,largeCap:40,midCap:25,smallCap:10},Aggressive:{equityTotal:85,alternativesTotal:10,debtTotal:5,largeCap:35,midCap:30,smallCap:20}}[r],m={};if(e.equityTotal>0){let t={};switch(i){case"large":t={"Large Cap Equity":{percentage:e.equityTotal*.8,etfs:[{name:"Nifty 50 ETF",code:"NIFTYBEES",weight:e.equityTotal*.5},{name:"Nifty Next 50 ETF",code:"NIFTYNXT50",weight:e.equityTotal*.3}]},"Mid Cap Equity":{percentage:e.equityTotal*.2,etfs:[{name:"Nifty Midcap 150 ETF",code:"MIDCAPETF",weight:e.equityTotal*.2}]}};break;case"mid":t={"Mid Cap Equity":{percentage:e.equityTotal*.6,etfs:[{name:"Nifty Midcap 150 ETF",code:"MIDCAPETF",weight:e.equityTotal*.6}]},"Large Cap Equity":{percentage:e.equityTotal*.4,etfs:[{name:"Nifty 50 ETF",code:"NIFTYBEES",weight:e.equityTotal*.4}]}};break;case"small":t={"Small Cap Equity":{percentage:e.equityTotal*.5,etfs:[{name:"Nifty Smallcap 250 ETF",code:"SMALLCAP",weight:e.equityTotal*.5}]},"Mid Cap Equity":{percentage:e.equityTotal*.3,etfs:[{name:"Nifty Midcap 150 ETF",code:"MIDCAPETF",weight:e.equityTotal*.3}]},"Large Cap Equity":{percentage:e.equityTotal*.2,etfs:[{name:"Nifty 50 ETF",code:"NIFTYBEES",weight:e.equityTotal*.2}]}};break;default:t={"Large Cap Equity":{percentage:e.largeCap,etfs:[{name:"Nifty 50 ETF",code:"NIFTYBEES",weight:e.largeCap}]},"Mid Cap Equity":{percentage:e.midCap,etfs:[{name:"Nifty Midcap 150 ETF",code:"MIDCAPETF",weight:e.midCap}]},"Small Cap Equity":{percentage:e.smallCap,etfs:[{name:"Nifty Smallcap 250 ETF",code:"SMALLCAP",weight:e.smallCap}]}}}m={...m,...t}}if(e.alternativesTotal>0)switch(s){case"gold":m["Precious Metals"]={percentage:e.alternativesTotal,etfs:[{name:"Gold BeES",code:"GOLDBEES",weight:e.alternativesTotal*.7},{name:"Silver ETF",code:"SILVERBEES",weight:e.alternativesTotal*.3}]};break;case"real_estate":m["Real Estate"]={percentage:e.alternativesTotal,etfs:[{name:"Nexus REIT",code:"NXST-RR",weight:e.alternativesTotal}]};break;case"infra":m.Infrastructure={percentage:e.alternativesTotal,etfs:[{name:"PowerGrid InvIT",code:"PGINVIT-IV",weight:e.alternativesTotal}]};break;case"none":const t=e.alternativesTotal/2;e.equityTotal+=t,e.debtTotal+=t;break}return e.debtTotal>0&&(m.Debt={percentage:e.debtTotal,etfs:[{name:"Liquid BeES",code:"LIQUIDBEES",weight:e.debtTotal}]}),m});b(()=>{var e,m,g,y,x,t;const r=[];let i=0,s=0;a.forEach(n=>{n.questions.forEach(k=>{const u=l.value[k.id];u&&(r.push({section:n.title,question:k.text,answer:u.text,risk_score:u.risk_score||null}),u.risk_score&&(i+=u.risk_score,s++))})});const d=s>0?i/(s*4)*100:0;return{user_responses:r,risk_profile:{score:d,category:E.value.title,description:E.value.description},category_scores:C.value,demographics:{age_group:((e=l.value.age_group)==null?void 0:e.text)||null,employment:((m=l.value.employment_status)==null?void 0:m.text)||null,income_stability:((g=l.value.income_source)==null?void 0:g.text)||null},financial_health:{monthly_savings:((y=l.value.monthly_savings)==null?void 0:y.text)||null,emergency_fund:((x=l.value.emergency_fund)==null?void 0:x.text)||null,debt_obligations:((t=l.value.debt_obligations)==null?void 0:t.text)||null}}});const W=r=>{l.value={...l.value,[I.value.id]:r};const i=I.value.id;a.forEach(s=>{s.questions.forEach(d=>{d.id===i&&(d.user_answer=r)})}),f.value<q.value.questions.length-1?f.value++:w.value<a.length-1?(w.value++,f.value=0):T.value=!0},j=()=>{w.value=0,f.value=0,l.value={},T.value=!1};return M({resetQuiz:j,answers:l,riskProfile:E,recommendedAllocation:Y}),(r,i)=>(_(),A(pe,{fluid:""},{default:c(()=>[p(L,{justify:"center"},{default:c(()=>[p(R,{cols:"12",sm:"12",md:"10",lg:"8",xl:"6"},{default:c(()=>[p(he,{class:"elevation-2"},{default:c(()=>[p(me,{class:"text-h5 text-sm-h4 py-4"},{default:c(()=>[$(v(T.value?"Your Investment Profile & Recommendations":"Investment Profile Assessment"),1)]),_:1}),T.value?(_(),A(Z,{key:1},{default:c(()=>[p(L,null,{default:c(()=>[p(R,{cols:"12"},{default:c(()=>[h("div",Ne,[h("div",Oe,[h("h3",Ve,"Risk Profile: "+v(E.value.title),1),h("p",Be,v(E.value.description),1),p(qe,{"category-scores":C.value,class:"mt-4"},null,8,["category-scores"])])]),h("div",Ye,[i[0]||(i[0]=h("h3",{class:"text-h6 mb-4"},"Recommended ETF Allocation:",-1)),p(ge,null,{default:c(()=>[(_(!0),N(H,null,X(Y.value,(s,d)=>(_(),A(fe,{key:d},{default:c(()=>[p(ye,null,{default:c(()=>[h("div",je,[h("span",null,v(d),1),h("span",De,v(s.percentage)+"%",1)])]),_:2},1024),p(_e,null,{default:c(()=>[p(we,null,{default:c(()=>[(_(!0),N(H,null,X(s.etfs,e=>(_(),A(xe,{key:e.code},{default:c(()=>[p(ke,null,{default:c(()=>[$(v(e.name),1)]),_:2},1024),p(be,null,{default:c(()=>[$(v(e.code)+" - "+v(e.weight)+"% ",1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),p(L,{class:"mt-6"},{default:c(()=>[p(R,{cols:"12",sm:"8",md:"6",class:"mx-auto"},{default:c(()=>[p(J,{block:"",color:"primary",onClick:j},{default:c(()=>i[1]||(i[1]=[$(" Retake Assessment ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(_(),A(Z,{key:0},{default:c(()=>[p(L,{class:"mb-6"},{default:c(()=>[p(R,{cols:"12"},{default:c(()=>[p(ve,{"model-value":Q.value,height:"20",color:"primary",rounded:""},{default:c(({value:s})=>[h("strong",null,v(Math.ceil(s))+"%",1)]),_:1},8,["model-value"]),h("div",Ae,[h("span",Me,"Section: "+v(q.value.title),1),h("span",Ie,"Question "+v(O.value)+" of "+v(V.value),1)])]),_:1})]),_:1}),p(L,null,{default:c(()=>[p(R,{cols:"12"},{default:c(()=>[h("h3",Pe,v(I.value.text),1),h("div",Fe,[(_(!0),N(H,null,X(I.value.options,s=>(_(),A(J,{key:s.value,variant:"outlined",class:"option-button mb-3 text-start",block:"",height:"auto","min-height":"48",onClick:d=>W(s)},{default:c(()=>[h("div",Re,[h("div",null,v(s.text),1),s.note?(_(),N("div",Le,v(s.note),1)):de("",!0)])]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}},Ue=te(ze,[["__scopeId","data-v-210d67fa"]]);export{Ue as default};
//# sourceMappingURL=RiskProfile-XwCCLXSl.js.map
