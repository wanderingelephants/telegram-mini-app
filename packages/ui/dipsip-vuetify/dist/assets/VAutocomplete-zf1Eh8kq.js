import{ai as dt,aj as De,ak as ft,al as Mt,am as Bt,an as ht,ao as Ue,ap as h,aq as Ce,ar as Ut,as as Ze,at as pt,au as $t,ac as mt,E as Ee,av as Yt,d as vt,r as _t,aw as jt,ax as Ye,ay as qt,az as be,aA as zt,aB as Gt,N as Wt,W as Kt,aC as et,_ as Ht,A as K,C as H,a6 as ve,p as ye,z as Q,x as _e,y as re,$ as tt,o as je,Y as nt,i as qe,j as Fe,m as Qt,a as Jt,b as Xt,c as Zt,u as en,e as tn,f as nn,g as an,V as at,h as sn,k as rn,l as on,n as ln,q as un}from"./index-Drp1Yq1w.js";import{T as cn,p as de,J as st,m as dn,b as fn,g as fe,W as gt,d as hn,B as ce,z as pn,ax as mn,E as vn,f as he,a0 as Ke,h as _n,s as gn,l as yn,o as xn,Q as bn,O as En,av as kn,aI as Tn,aw as Cn,$ as it,G as Sn}from"./vuetify-BlS6c2-T.js";import{c as F,s as le,m as o,F as z,n as j,Q as O,d as ue,f as On,E as ee,N as G,S as oe,P as u,R as b,V as C,U as Se,O as Oe,_ as Nn,w as Ne,A as rt}from"./vue-Ci2-vDhJ.js";import{V as An}from"./VDialog-CX9KgK3x.js";const Ae=cn("v-spacer","div","VSpacer");function In(e){return typeof e=="object"&&e!==null}function wn(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Rn=/\r\n|[\n\r]/g;function ze(e,t){let n=0,s=1;for(const a of e.body.matchAll(Rn)){if(typeof a.index=="number"||wn(!1),a.index>=t)break;n=a.index+a[0].length,s+=1}return{line:s,column:t+1-n}}function Dn(e){return yt(e.source,ze(e.source,e.start))}function yt(e,t){const n=e.locationOffset.column-1,s="".padStart(n)+e.body,a=t.line-1,i=e.locationOffset.line-1,r=t.line+i,m=t.line===1?n:0,y=t.column+m,d=`${e.name}:${r}:${y}
`,p=s.split(/\r\n|[\n\r]/g),_=p[a];if(_.length>120){const f=Math.floor(y/80),S=y%80,E=[];for(let v=0;v<_.length;v+=80)E.push(_.slice(v,v+80));return d+ot([[`${r} |`,E[0]],...E.slice(1,f+1).map(v=>["|",v]),["|","^".padStart(S)],["|",E[f+1]]])}return d+ot([[`${r-1} |`,p[a-1]],[`${r} |`,_],["|","^".padStart(y)],[`${r+1} |`,p[a+1]]])}function ot(e){const t=e.filter(([s,a])=>a!==void 0),n=Math.max(...t.map(([s])=>s.length));return t.map(([s,a])=>s.padStart(n)+(a?" "+a:"")).join(`
`)}function Fn(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class He extends Error{constructor(t,...n){var s,a,i;const{nodes:r,source:m,positions:y,path:d,originalError:p,extensions:_}=Fn(n);super(t),this.name="GraphQLError",this.path=d??void 0,this.originalError=p??void 0,this.nodes=lt(Array.isArray(r)?r:r?[r]:void 0);const f=lt((s=this.nodes)===null||s===void 0?void 0:s.map(E=>E.loc).filter(E=>E!=null));this.source=m??(f==null||(a=f[0])===null||a===void 0?void 0:a.source),this.positions=y??(f==null?void 0:f.map(E=>E.start)),this.locations=y&&m?y.map(E=>ze(m,E)):f==null?void 0:f.map(E=>ze(E.source,E.start));const S=In(p==null?void 0:p.extensions)?p==null?void 0:p.extensions:void 0;this.extensions=(i=_??S)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),p!=null&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,He):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Dn(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+yt(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function lt(e){return e===void 0||e.length===0?void 0:e}function V(e,t,n){return new He(`Syntax Error: ${n}`,{source:e,positions:[t]})}var Ge;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ge||(Ge={}));var l;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(l||(l={}));class Ln{constructor(t){const n=new dt(l.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==l.EOF)do if(t.next)t=t.next;else{const n=Pn(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===l.COMMENT);return t}}function Vn(e){return e===l.BANG||e===l.DOLLAR||e===l.AMP||e===l.PAREN_L||e===l.PAREN_R||e===l.SPREAD||e===l.COLON||e===l.EQUALS||e===l.AT||e===l.BRACKET_L||e===l.BRACKET_R||e===l.BRACE_L||e===l.PIPE||e===l.BRACE_R}function pe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ve(e,t){return xt(e.charCodeAt(t))&&bt(e.charCodeAt(t+1))}function xt(e){return e>=55296&&e<=56319}function bt(e){return e>=56320&&e<=57343}function te(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return l.EOF;if(n>=32&&n<=126){const s=String.fromCodePoint(n);return s==='"'?`'"'`:`"${s}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function D(e,t,n,s,a){const i=e.line,r=1+n-e.lineStart;return new dt(t,n,s,i,r,a)}function Pn(e,t){const n=e.source.body,s=n.length;let a=t;for(;a<s;){const i=n.charCodeAt(a);switch(i){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++e.line,e.lineStart=a;continue;case 35:return Mn(e,a);case 33:return D(e,l.BANG,a,a+1);case 36:return D(e,l.DOLLAR,a,a+1);case 38:return D(e,l.AMP,a,a+1);case 40:return D(e,l.PAREN_L,a,a+1);case 41:return D(e,l.PAREN_R,a,a+1);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return D(e,l.SPREAD,a,a+3);break;case 58:return D(e,l.COLON,a,a+1);case 61:return D(e,l.EQUALS,a,a+1);case 64:return D(e,l.AT,a,a+1);case 91:return D(e,l.BRACKET_L,a,a+1);case 93:return D(e,l.BRACKET_R,a,a+1);case 123:return D(e,l.BRACE_L,a,a+1);case 124:return D(e,l.PIPE,a,a+1);case 125:return D(e,l.BRACE_R,a,a+1);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?qn(e,a):Un(e,a)}if(De(i)||i===45)return Bn(e,a,i);if(ft(i))return zn(e,a);throw V(e.source,a,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:pe(i)||Ve(n,a)?`Unexpected character: ${te(e,a)}.`:`Invalid character: ${te(e,a)}.`)}return D(e,l.EOF,s,s)}function Mn(e,t){const n=e.source.body,s=n.length;let a=t+1;for(;a<s;){const i=n.charCodeAt(a);if(i===10||i===13)break;if(pe(i))++a;else if(Ve(n,a))a+=2;else break}return D(e,l.COMMENT,t,a,n.slice(t+1,a))}function Bn(e,t,n){const s=e.source.body;let a=t,i=n,r=!1;if(i===45&&(i=s.charCodeAt(++a)),i===48){if(i=s.charCodeAt(++a),De(i))throw V(e.source,a,`Invalid number, unexpected digit after 0: ${te(e,a)}.`)}else a=$e(e,a,i),i=s.charCodeAt(a);if(i===46&&(r=!0,i=s.charCodeAt(++a),a=$e(e,a,i),i=s.charCodeAt(a)),(i===69||i===101)&&(r=!0,i=s.charCodeAt(++a),(i===43||i===45)&&(i=s.charCodeAt(++a)),a=$e(e,a,i),i=s.charCodeAt(a)),i===46||ft(i))throw V(e.source,a,`Invalid number, expected digit but got: ${te(e,a)}.`);return D(e,r?l.FLOAT:l.INT,t,a,s.slice(t,a))}function $e(e,t,n){if(!De(n))throw V(e.source,t,`Invalid number, expected digit but got: ${te(e,t)}.`);const s=e.source.body;let a=t+1;for(;De(s.charCodeAt(a));)++a;return a}function Un(e,t){const n=e.source.body,s=n.length;let a=t+1,i=a,r="";for(;a<s;){const m=n.charCodeAt(a);if(m===34)return r+=n.slice(i,a),D(e,l.STRING,t,a+1,r);if(m===92){r+=n.slice(i,a);const y=n.charCodeAt(a+1)===117?n.charCodeAt(a+2)===123?$n(e,a):Yn(e,a):jn(e,a);r+=y.value,a+=y.size,i=a;continue}if(m===10||m===13)break;if(pe(m))++a;else if(Ve(n,a))a+=2;else throw V(e.source,a,`Invalid character within String: ${te(e,a)}.`)}throw V(e.source,a,"Unterminated string.")}function $n(e,t){const n=e.source.body;let s=0,a=3;for(;a<12;){const i=n.charCodeAt(t+a++);if(i===125){if(a<5||!pe(s))break;return{value:String.fromCodePoint(s),size:a}}if(s=s<<4|xe(i),s<0)break}throw V(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+a)}".`)}function Yn(e,t){const n=e.source.body,s=ut(n,t+2);if(pe(s))return{value:String.fromCodePoint(s),size:6};if(xt(s)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const a=ut(n,t+8);if(bt(a))return{value:String.fromCodePoint(s,a),size:12}}throw V(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ut(e,t){return xe(e.charCodeAt(t))<<12|xe(e.charCodeAt(t+1))<<8|xe(e.charCodeAt(t+2))<<4|xe(e.charCodeAt(t+3))}function xe(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function jn(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw V(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function qn(e,t){const n=e.source.body,s=n.length;let a=e.lineStart,i=t+3,r=i,m="";const y=[];for(;i<s;){const d=n.charCodeAt(i);if(d===34&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34){m+=n.slice(r,i),y.push(m);const p=D(e,l.BLOCK_STRING,t,i+3,Mt(y).join(`
`));return e.line+=y.length-1,e.lineStart=a,p}if(d===92&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34&&n.charCodeAt(i+3)===34){m+=n.slice(r,i),r=i+1,i+=4;continue}if(d===10||d===13){m+=n.slice(r,i),y.push(m),d===13&&n.charCodeAt(i+1)===10?i+=2:++i,m="",r=i,a=i;continue}if(pe(d))++i;else if(Ve(n,i))i+=2;else throw V(e.source,i,`Invalid character within String: ${te(e,i)}.`)}throw V(e.source,i,"Unterminated string.")}function zn(e,t){const n=e.source.body,s=n.length;let a=t+1;for(;a<s;){const i=n.charCodeAt(a);if(Bt(i))++a;else break}return D(e,l.NAME,t,a,n.slice(t,a))}const Gn=globalThis.process&&!0,Wn=Gn?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var s;const a=n.prototype[Symbol.toStringTag],i=Symbol.toStringTag in t?t[Symbol.toStringTag]:(s=t.constructor)===null||s===void 0?void 0:s.name;if(a===i){const r=ht(t);throw new Error(`Cannot use ${a} "${r}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Et{constructor(t,n="GraphQL request",s={line:1,column:1}){typeof t=="string"||Ue(!1,`Body must be a string. Received: ${ht(t)}.`),this.body=t,this.name=n,this.locationOffset=s,this.locationOffset.line>0||Ue(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ue(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Kn(e){return Wn(e,Et)}function Hn(e,t){const n=new Qn(e,t),s=n.parseDocument();return Object.defineProperty(s,"tokenCount",{enumerable:!1,value:n.tokenCount}),s}class Qn{constructor(t,n={}){const s=Kn(t)?t:new Et(t);this._lexer=new Ln(s),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(l.NAME);return this.node(t,{kind:h.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:h.DOCUMENT,definitions:this.many(l.SOF,this.parseDefinition,l.EOF)})}parseDefinition(){if(this.peek(l.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===l.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw V(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(l.BRACE_L))return this.node(t,{kind:h.OPERATION_DEFINITION,operation:Ce.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let s;return this.peek(l.NAME)&&(s=this.parseName()),this.node(t,{kind:h.OPERATION_DEFINITION,operation:n,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(l.NAME);switch(t.value){case"query":return Ce.QUERY;case"mutation":return Ce.MUTATION;case"subscription":return Ce.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(l.PAREN_L,this.parseVariableDefinition,l.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(l.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(l.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(l.DOLLAR),this.node(t,{kind:h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:h.SELECTION_SET,selections:this.many(l.BRACE_L,this.parseSelection,l.BRACE_R)})}parseSelection(){return this.peek(l.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let s,a;return this.expectOptionalToken(l.COLON)?(s=n,a=this.parseName()):a=n,this.node(t,{kind:h.FIELD,alias:s,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(l.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(l.PAREN_L,n,l.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,s=this.parseName();return this.expectToken(l.COLON),this.node(n,{kind:h.ARGUMENT,name:s,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(l.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(l.NAME)?this.node(t,{kind:h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:h.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case l.BRACKET_L:return this.parseList(t);case l.BRACE_L:return this.parseObject(t);case l.INT:return this.advanceLexer(),this.node(n,{kind:h.INT,value:n.value});case l.FLOAT:return this.advanceLexer(),this.node(n,{kind:h.FLOAT,value:n.value});case l.STRING:case l.BLOCK_STRING:return this.parseStringLiteral();case l.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:h.BOOLEAN,value:!0});case"false":return this.node(n,{kind:h.BOOLEAN,value:!1});case"null":return this.node(n,{kind:h.NULL});default:return this.node(n,{kind:h.ENUM,value:n.value})}case l.DOLLAR:if(t)if(this.expectToken(l.DOLLAR),this._lexer.token.kind===l.NAME){const s=this._lexer.token.value;throw V(this._lexer.source,n.start,`Unexpected variable "$${s}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:h.STRING,value:t.value,block:t.kind===l.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:h.LIST,values:this.any(l.BRACKET_L,n,l.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:h.OBJECT,fields:this.any(l.BRACE_L,n,l.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,s=this.parseName();return this.expectToken(l.COLON),this.node(n,{kind:h.OBJECT_FIELD,name:s,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(l.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(l.AT),this.node(n,{kind:h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(l.BRACKET_L)){const s=this.parseTypeReference();this.expectToken(l.BRACKET_R),n=this.node(t,{kind:h.LIST_TYPE,type:s})}else n=this.parseNamedType();return this.expectOptionalToken(l.BANG)?this.node(t,{kind:h.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(l.STRING)||this.peek(l.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const s=this.parseConstDirectives(),a=this.many(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);return this.node(t,{kind:h.SCHEMA_DEFINITION,description:n,directives:s,operationTypes:a})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(l.COLON);const s=this.parseNamedType();return this.node(t,{kind:h.OPERATION_TYPE_DEFINITION,operation:n,type:s})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const s=this.parseName(),a=this.parseConstDirectives();return this.node(t,{kind:h.SCALAR_TYPE_DEFINITION,description:n,name:s,directives:a})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const s=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),r=this.parseFieldsDefinition();return this.node(t,{kind:h.OBJECT_TYPE_DEFINITION,description:n,name:s,interfaces:a,directives:i,fields:r})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(l.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(l.BRACE_L,this.parseFieldDefinition,l.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName(),a=this.parseArgumentDefs();this.expectToken(l.COLON);const i=this.parseTypeReference(),r=this.parseConstDirectives();return this.node(t,{kind:h.FIELD_DEFINITION,description:n,name:s,arguments:a,type:i,directives:r})}parseArgumentDefs(){return this.optionalMany(l.PAREN_L,this.parseInputValueDef,l.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName();this.expectToken(l.COLON);const a=this.parseTypeReference();let i;this.expectOptionalToken(l.EQUALS)&&(i=this.parseConstValueLiteral());const r=this.parseConstDirectives();return this.node(t,{kind:h.INPUT_VALUE_DEFINITION,description:n,name:s,type:a,defaultValue:i,directives:r})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const s=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),r=this.parseFieldsDefinition();return this.node(t,{kind:h.INTERFACE_TYPE_DEFINITION,description:n,name:s,interfaces:a,directives:i,fields:r})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(t,{kind:h.UNION_TYPE_DEFINITION,description:n,name:s,directives:a,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(l.EQUALS)?this.delimitedMany(l.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(t,{kind:h.ENUM_TYPE_DEFINITION,description:n,name:s,directives:a,values:i})}parseEnumValuesDefinition(){return this.optionalMany(l.BRACE_L,this.parseEnumValueDefinition,l.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(t,{kind:h.ENUM_VALUE_DEFINITION,description:n,name:s,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw V(this._lexer.source,this._lexer.token.start,`${Ie(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(t,{kind:h.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:s,directives:a,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(l.BRACE_L,this.parseInputValueDef,l.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===l.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),s=this.optionalMany(l.BRACE_L,this.parseOperationTypeDefinition,l.BRACE_R);if(n.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:h.SCHEMA_EXTENSION,directives:n,operationTypes:s})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),s=this.parseConstDirectives();if(s.length===0)throw this.unexpected();return this.node(t,{kind:h.SCALAR_TYPE_EXTENSION,name:n,directives:s})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:h.OBJECT_TYPE_EXTENSION,name:n,interfaces:s,directives:a,fields:i})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:h.INTERFACE_TYPE_EXTENSION,name:n,interfaces:s,directives:a,fields:i})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:h.UNION_TYPE_EXTENSION,name:n,directives:s,types:a})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:h.ENUM_TYPE_EXTENSION,name:n,directives:s,values:a})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:h.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:s,fields:a})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(l.AT);const s=this.parseName(),a=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const r=this.parseDirectiveLocations();return this.node(t,{kind:h.DIRECTIVE_DEFINITION,description:n,name:s,arguments:a,repeatable:i,locations:r})}parseDirectiveLocations(){return this.delimitedMany(l.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ge,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Ut(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw V(this._lexer.source,n.start,`Expected ${kt(t)}, found ${Ie(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===l.NAME&&n.value===t)this.advanceLexer();else throw V(this._lexer.source,n.start,`Expected "${t}", found ${Ie(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===l.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return V(this._lexer.source,n.start,`Unexpected ${Ie(n)}.`)}any(t,n,s){this.expectToken(t);const a=[];for(;!this.expectOptionalToken(s);)a.push(n.call(this));return a}optionalMany(t,n,s){if(this.expectOptionalToken(t)){const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(s));return a}return[]}many(t,n,s){this.expectToken(t);const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(s));return a}delimitedMany(t,n){this.expectOptionalToken(t);const s=[];do s.push(n.call(this));while(this.expectOptionalToken(t));return s}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==l.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw V(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Ie(e){const t=e.value;return kt(e.kind)+(t!=null?` "${t}"`:"")}function kt(e){return Vn(e)?`"${e}"`:e}var we=new Map,We=new Map,Tt=!0,Le=!1;function Ct(e){return e.replace(/[\s,]+/g," ").trim()}function Jn(e){return Ct(e.source.body.substring(e.start,e.end))}function Xn(e){var t=new Set,n=[];return e.definitions.forEach(function(s){if(s.kind==="FragmentDefinition"){var a=s.name.value,i=Jn(s.loc),r=We.get(a);r&&!r.has(i)?Tt&&console.warn("Warning: fragment with name "+a+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):r||We.set(a,r=new Set),r.add(i),t.has(i)||(t.add(i),n.push(s))}else n.push(s)}),Ze(Ze({},e),{definitions:n})}function Zn(e){var t=new Set(e.definitions);t.forEach(function(s){s.loc&&delete s.loc,Object.keys(s).forEach(function(a){var i=s[a];i&&typeof i=="object"&&t.add(i)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function ea(e){var t=Ct(e);if(!we.has(t)){var n=Hn(e,{experimentalFragmentVariables:Le,allowLegacyFragmentVariables:Le});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");we.set(t,Zn(Xn(n)))}return we.get(t)}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var s=e[0];return t.forEach(function(a,i){a&&a.kind==="Document"?s+=a.loc.source.body:s+=a,s+=e[i+1]}),ea(s)}function ta(){we.clear(),We.clear()}function na(){Tt=!1}function aa(){Le=!0}function sa(){Le=!1}var ge={gql:q,resetCaches:ta,disableFragmentWarnings:na,enableExperimentalFragmentVariables:aa,disableExperimentalFragmentVariables:sa};(function(e){e.gql=ge.gql,e.resetCaches=ge.resetCaches,e.disableFragmentWarnings=ge.disableFragmentWarnings,e.enableExperimentalFragmentVariables=ge.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=ge.disableExperimentalFragmentVariables})(q||(q={}));q.default=q;const ia=de({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:st,default:"$ratingEmpty"},fullIcon:{type:st,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...dn(),...pt(),...$t(),...mt(),...fn()},"VRating"),ct=fe()({name:"VRating",props:ia(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=gt(),{themeClasses:a}=hn(e),i=ce(e,"modelValue"),r=F(()=>pn(parseFloat(i.value),0,+e.length)),m=F(()=>mn(Number(e.length),1)),y=F(()=>m.value.flatMap(v=>e.halfIncrements?[v-.5,v]:[v])),d=le(-1),p=F(()=>y.value.map(v=>{const A=e.hover&&d.value>-1,I=r.value>=v,N=d.value>=v,k=(A?N:I)?e.fullIcon:e.emptyIcon,g=e.activeColor??e.color,W=I||N?g:e.color;return{isFilled:I,isHovered:N,icon:k,color:W}})),_=F(()=>[0,...y.value].map(v=>{function A(){d.value=v}function I(){d.value=-1}function N(){e.disabled||e.readonly||(i.value=r.value===v&&e.clearable?0:v)}return{onMouseenter:e.hover?A:void 0,onMouseleave:e.hover?I:void 0,onClick:N}})),f=F(()=>e.name??`v-rating-${vn()}`);function S(v){var J,ne;let{value:A,index:I,showStar:N=!0}=v;const{onMouseenter:B,onMouseleave:k,onClick:g}=_.value[I+1],W=`${f.value}-${String(A).replace(".","-")}`,U={color:(J=p.value[I])==null?void 0:J.color,density:e.density,disabled:e.disabled,icon:(ne=p.value[I])==null?void 0:ne.icon,ripple:e.ripple,size:e.size,variant:"plain"};return o(z,null,[o("label",{for:W,class:{"v-rating__item--half":e.halfIncrements&&A%1>0,"v-rating__item--full":e.halfIncrements&&A%1===0},onMouseenter:B,onMouseleave:k,onClick:g},[o("span",{class:"v-rating__hidden"},[s(e.itemAriaLabel,A,e.length)]),N?n.item?n.item({...p.value[I],props:U,value:A,index:I,rating:r.value}):o(Ee,j({"aria-label":s(e.itemAriaLabel,A,e.length)},U),null):void 0]),o("input",{class:"v-rating__hidden",name:f.value,id:W,type:"radio",value:A,checked:r.value===A,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function E(v){return n["item-label"]?n["item-label"](v):v.label?o("span",null,[v.label]):o("span",null,[O(" ")])}return he(()=>{var A;const v=!!((A=e.itemLabels)!=null&&A.length)||n["item-label"];return o(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class],style:e.style},{default:()=>[o(S,{value:0,index:-1,showStar:!1},null),m.value.map((I,N)=>{var B,k;return o("div",{class:"v-rating__wrapper"},[v&&e.itemLabelPosition==="top"?E({value:I,index:N,label:(B=e.itemLabels)==null?void 0:B[N]}):void 0,o("div",{class:"v-rating__item"},[e.halfIncrements?o(z,null,[o(S,{value:I-.5,index:N*2},null),o(S,{value:I,index:N*2+1},null)]):o(S,{value:I,index:N},null)]),v&&e.itemLabelPosition==="bottom"?E({value:I,index:N,label:(k=e.itemLabels)==null?void 0:k[N]}):void 0])})]})}),{}}}),Qe=Symbol.for("vuetify:v-tabs"),ra=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ke(Yt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Re=fe()({name:"VTab",props:ra(),setup(e,t){let{slots:n,attrs:s}=t;const{textColorClasses:a,textColorStyles:i}=vt(e,"sliderColor"),r=ue(),m=ue(),y=F(()=>e.direction==="horizontal"),d=F(()=>{var _,f;return((f=(_=r.value)==null?void 0:_.group)==null?void 0:f.isSelected.value)??!1});function p(_){var S,E;let{value:f}=_;if(f){const v=(E=(S=r.value)==null?void 0:S.$el.parentElement)==null?void 0:E.querySelector(".v-tab--selected .v-tab__slider"),A=m.value;if(!v||!A)return;const I=getComputedStyle(v).color,N=v.getBoundingClientRect(),B=A.getBoundingClientRect(),k=y.value?"x":"y",g=y.value?"X":"Y",W=y.value?"right":"bottom",U=y.value?"width":"height",J=N[k],ne=B[k],P=J>ne?N[W]-B[W]:N[k]-B[k],ae=Math.sign(P)>0?y.value?"right":"bottom":Math.sign(P)<0?y.value?"left":"top":"center",Pe=(Math.abs(P)+(Math.sign(P)<0?N[U]:B[U]))/Math.max(N[U],B[U])||0,me=N[U]/B[U]||0,ie=1.5;_n(A,{backgroundColor:[I,"currentcolor"],transform:[`translate${g}(${P}px) scale${g}(${me})`,`translate${g}(${P/ie}px) scale${g}(${(Pe-1)/ie+1})`,"none"],transformOrigin:Array(3).fill(ae)},{duration:225,easing:gn})}}return he(()=>{const _=Ee.filterProps(e);return o(Ee,j({symbol:Qe,ref:r,class:["v-tab",e.class],style:e.style,tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},_,s,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":p}),{...n,default:()=>{var f;return o(z,null,[((f=n.default)==null?void 0:f.call(n))??e.text,!e.hideSlider&&o("div",{ref:m,class:["v-tab__slider",a.value],style:i.value},null)])}})}),_t({},r)}}),oa=de({...Ke(jt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),la=fe()({name:"VTabsWindow",props:oa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=On(Qe,null),a=ce(e,"modelValue"),i=F({get(){var r;return a.value!=null||!s?a.value:(r=s.items.value.find(m=>s.selected.value.includes(m.id)))==null?void 0:r.value},set(r){a.value=r}});return he(()=>{const r=Ye.filterProps(e);return o(Ye,j({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),ua=de({...qt()},"VTabsWindowItem"),ca=fe()({name:"VTabsWindowItem",props:ua(),setup(e,t){let{slots:n}=t;return he(()=>{const s=be.filterProps(e);return o(be,j({_as:"VTabsWindowItem"},s,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function da(e){return e?e.map(t=>bn(t)?t:{text:t,value:t}):[]}const fa=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...zt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...pt(),...mt()},"VTabs"),ha=fe()({name:"VTabs",props:fa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const a=ce(e,"modelValue"),i=F(()=>da(e.items)),{densityClasses:r}=Gt(e),{backgroundColorClasses:m,backgroundColorStyles:y}=Wt(ee(e,"bgColor")),{scopeId:d}=Kt();return yn({VTab:{color:ee(e,"color"),direction:ee(e,"direction"),stacked:ee(e,"stacked"),fixed:ee(e,"fixedTabs"),sliderColor:ee(e,"sliderColor"),hideSlider:ee(e,"hideSlider")}}),he(()=>{const p=et.filterProps(e),_=!!(s.window||e.items.length>0);return o(z,null,[o(et,j(p,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,m.value,e.class],style:[{"--v-tabs-height":xn(e.height)},y.value,e.style],role:"tablist",symbol:Qe},d,n),{default:()=>{var f;return[((f=s.default)==null?void 0:f.call(s))??i.value.map(S=>{var E;return((E=s.tab)==null?void 0:E.call(s,{item:S}))??o(Re,j(S,{key:S.text,value:S.value}),{default:s[`tab.${S.value}`]?()=>{var v;return(v=s[`tab.${S.value}`])==null?void 0:v.call(s,{item:S})}:void 0})})]}}),_&&o(la,j({modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,key:"tabs-window"},d),{default:()=>{var f;return[i.value.map(S=>{var E;return((E=s.item)==null?void 0:E.call(s,{item:S}))??o(ca,{value:S.value},{default:()=>{var v;return(v=s[`item.${S.value}`])==null?void 0:v.call(s,{item:S})}})}),(f=s.window)==null?void 0:f.call(s)]}})])}),{}}}),pa={name:"MFAnalysis",components:{},props:{analysisReport:{type:Object,required:!0}},data:()=>({showDialog:!1,showSectorDetails:!1,selectedOverlap:null,activeTab:0,downloading:!1,overlapHeaders:[{title:"Fund 1",key:"fund1_name"},{title:"Fund 2",key:"fund2_name"},{title:"Overlap %",key:"overlap_percentage"},{title:"Actions",key:"actions",sortable:!1}],expenseHeaders:[{title:"Fund Name",key:"fund_name"},{title:"Expense Ratio",key:"expense_ratio"},{title:"Category Average",key:"category_avg"},{title:"Relative Cost",key:"relative_cost"}],etfRecommendationHeaders:[{title:"Fund Name",key:"fund_name"},{title:"ETF Name",key:"etf"},{title:"Overlap %",key:"overlap_percentage"},{title:"ETF Fee %",key:"etf_fee"},{title:"Fund Fee %",key:"fund_fee"},{title:"Potential Savings %",key:"potential_savings"}]}),computed:{sectorChartSeries(){return Object.values(this.analysisReport.diversification.sector_breakdown).map(e=>e.percentage)},formattedEtfRecommendations(){const e=[];return console.log(this.analysisReport.recommendedETFs),Object.entries(this.analysisReport.recommendedETFs).forEach(([t,n])=>{console.log([t,n]),n.length>0&&n.forEach(s=>{e.push({fund_name:t,etf:s.etf,overlap_percentage:s["overlap%"],etf_fee:s.etf_fee,fund_fee:s.fund_fee,potential_savings:s.potential_savings})})}),console.log("computed formattedEtfRecom",e),e},sectorChartOptions(){return{chart:{type:"donut",animations:{dynamicAnimation:{enabled:!0}}},labels:Object.keys(this.analysisReport.diversification.sector_breakdown),plotOptions:{pie:{donut:{size:"65%"}}},tooltip:{y:{formatter:e=>`${e.toFixed(1)}%`}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",markers:{width:12,height:12,radius:12}},responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}],dataLabels:{enabled:!1},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#546E7A","#D4526E","#8D5B4C","#F86624","#D7263D","#1B998B","#2E294E","#F46036","#E2C044"]}},sectorTableData(){const e=this.analysisReport.diversification.sector_breakdown;return Object.entries(e).map(([t,n])=>({name:t,percentage:n.percentage})).sort((t,n)=>n.percentage-t.percentage)},sectorHeaders(){return[{title:"Sector",key:"name"},{title:"Allocation (%)",key:"percentage"}]},performanceHeaders(){return[{title:"Fund Name",key:"mutual_fund_name",align:"start",sortable:!0},{title:"5 Year",key:"mutual_fund_return_5Y",align:"end",sortable:!0,format:e=>`${e}%`},{title:"3 Year",key:"mutual_fund_return_3Y",align:"end",sortable:!0,format:e=>`${e}%`},{title:"1 Year",key:"mutual_fund_return_1Y",align:"end",sortable:!0,format:e=>`${e}%`}]},performanceTableData(){const e=this.analysisReport.performanceAnalysis;return console.log("flattened",e.map(t=>({mutual_fund_name:t.mutual_fund_name,mutual_fund_return_1Y:t.mutual_fund_return_1Y||"-",mutual_fund_return_3Y:t.mutual_fund_return_3Y||"-",mutual_fund_return_5Y:t.mutual_fund_return_5Y||"-"}))),e.map(t=>({mutual_fund_name:t.mutual_fund_name,mutual_fund_return_1Y:t.mutual_fund_return_1Y||"-",mutual_fund_return_3Y:t.mutual_fund_return_3Y||"-",mutual_fund_return_5Y:t.mutual_fund_return_5Y||"-"}))},formattedOverlaps(){return this.analysisReport.overlaps.overlaps.map(e=>({fund1_name:e.comparison_metadata.fund1.name,fund2_name:e.comparison_metadata.fund2.name,overlap_percentage:e.overlap_percentage,...e})).sort((e,t)=>t.overlap_percentage-e.overlap_percentage)}},methods:{getOverlapColor(e){return e>=25?"red":e>=15?"orange":"green"},getDiversificationColor(e){return{"over-diversified":"orange",concentrated:"red",optimal:"green"}[e]||"grey"},getCategoryColor(e){return{"large cap":"blue","mid cap":"purple","small cap":"deep-purple","multi cap":"indigo"}[e.toLowerCase()]||"grey"},getExpenseColor(e){return e>.5?"red":e<-.5?"green":"orange"},showOverlapDetails(e){this.selectedOverlap=e,this.showDialog=!0},async downloadCompleteReport(){this.downloading=!0;try{const e=new jsPDF("p","mm","a4");let t=10;e.setFontSize(18),e.text("Mutual Fund Analysis Report",105,t,{align:"center"}),t+=15,e.setFontSize(14),e.text("1. Portfolio Overview",10,t),t+=10,e.setFontSize(10);const n=`Total Unique Stocks: ${this.analysisReport.diversification.unique_stocks.count}`;e.text(n,15,t),t+=5,e.text(`Status: ${this.analysisReport.diversification.unique_stocks.status}`,15,t),t+=5,e.text(`Recommendation: ${this.analysisReport.diversification.unique_stocks.recommendation}`,15,t),t+=15,e.setFontSize(14),e.text("2. Sector Allocation",10,t),t+=10;const s=Object.entries(this.analysisReport.diversification.sector_breakdown).map(([d,p])=>[d,`${p.percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[1])-parseFloat(d[1]));e.autoTable({startY:t,head:[["Sector","Allocation"]],body:s,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:100},1:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("3. Fund Category Distribution",10,t),t+=10;const a=Object.entries(this.analysisReport.diversification.category_breakdown).map(([d,p])=>[d,`${p.percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[1])-parseFloat(d[1]));e.autoTable({startY:t,head:[["Category","Allocation"]],body:a,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:100},1:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("4. Stock Overlaps Analysis",10,t),t+=10;const i=this.formattedOverlaps.filter(d=>d.overlap_percentage>=25).sort((d,p)=>p.overlap_percentage-d.overlap_percentage),r=this.formattedOverlaps.map(d=>[d.fund1_name,d.fund2_name,`${d.overlap_percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[2])-parseFloat(d[2]));e.autoTable({startY:t,head:[["Fund 1","Fund 2","Overlap"]],body:r,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:70},1:{cellWidth:70},2:{cellWidth:30,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,i.length>0&&(e.setFontSize(10),e.text("High Overlap Warning:",15,t,{style:"bold"}),t+=5,e.text("The following fund pairs have significant overlap (>25%):",15,t),t+=5,i.forEach(d=>{const p=`• ${d.fund1_name} - ${d.fund2_name}: ${d.overlap_percentage.toFixed(1)}%`;e.text(p,20,t),t+=5})),t+=5,e.setFontSize(14),e.text("5. Expense Ratio Analysis",10,t),t+=10,console.log(this.analysisReport.expenses);const m=this.analysisReport.expenses.map(d=>[d.fund_name,`${d.expense_ratio.toFixed(2)}%`,`${d.category_avg.toFixed(2)}%`,`${d.relative_cost>0?"+":""}${d.relative_cost.toFixed(2)}%`]);e.autoTable({startY:t,head:[["Fund Name","Expense Ratio","Category Avg","Relative Cost"]],body:m,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:70},1:{cellWidth:40,halign:"right"},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("6. Key Recommendations",10,t),t+=10,e.setFontSize(10),this.generateRecommendations().forEach(d=>{e.text(`• ${d}`,15,t),t+=5}),e.save("mutual_fund_analysis_report.pdf")}catch(e){console.error("Error generating PDF:",e)}finally{this.downloading=!1}},generateRecommendations(){var s,a;const e=[];this.analysisReport.overlaps.maxOverlap>25&&e.push(`Consider consolidating funds with high overlap (${(s=this.analysisReport.overlaps.maxOverlapPair)==null?void 0:s.fund1_name} and ${(a=this.analysisReport.overlaps.maxOverlapPair)==null?void 0:a.fund2_name})`);const{unique_stocks:t}=this.analysisReport.diversification;t.count>100?e.push("Portfolio may be over-diversified. Consider streamlining holdings."):t.count<30&&e.push("Portfolio concentration is high. Consider adding more diversity.");const n=this.analysisReport.expenses.filter(i=>i.relative_cost>.5);return n.length>0&&e.push(`Consider reviewing high expense funds: ${n.map(i=>i.fund_name).join(", ")}`),e}}},ma={class:"analysis-container"},va={class:"mt-2"};function _a(e,t,n,s,a,i){return G(),oe("div",ma,[o(Q,{class:"mb-4"},{default:u(()=>[o(K,{class:"d-flex flex-wrap"},{default:u(()=>[t[4]||(t[4]=b("span",{class:"text-h6"},"Stock Overlap Analysis",-1)),o(Ae)]),_:1}),o(H,null,{default:u(()=>[o(ve,{headers:e.overlapHeaders,items:i.formattedOverlaps,"items-per-page":5,density:"comfortable",class:"elevation-1",hover:!0},{"item.overlap_percentage":u(({item:r})=>[o(ye,{color:i.getOverlapColor(r.overlap_percentage),"text-color":"white"},{default:u(()=>[O(C(r.overlap_percentage)+"% ",1)]),_:2},1032,["color"])]),"item.actions":u(({item:r})=>[o(Ee,{small:"",text:"",color:"primary",onClick:m=>i.showOverlapDetails(r)},{default:u(()=>t[5]||(t[5]=[O(" Details ")])),_:2},1032,["onClick"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),o(Q,{class:"mb-4"},{default:u(()=>[o(K,{class:"text-h6"},{default:u(()=>t[6]||(t[6]=[O("Portfolio Diversification Analysis")])),_:1}),o(H,null,{default:u(()=>[o(_e,{dense:""},{default:u(()=>[o(re,null,{default:u(()=>[o(Q,{outlined:""},{default:u(()=>[o(K,{class:"text-subtitle-1"},{default:u(()=>[O(" Unique Stocks: "+C(n.analysisReport.diversification.unique_stocks.count),1)]),_:1}),o(H,null,{default:u(()=>[o(ye,{color:i.getDiversificationColor(n.analysisReport.diversification.unique_stocks.status),"text-color":"white"},{default:u(()=>[O(C(n.analysisReport.diversification.unique_stocks.status),1)]),_:1},8,["color"]),b("p",va,C(n.analysisReport.diversification.unique_stocks.recommendation),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(_e,null,{default:u(()=>[o(re,null,{default:u(()=>[o(Q,null,{default:u(()=>[o(K,null,{default:u(()=>[t[7]||(t[7]=O(" Sector Analysis Details ")),o(Ae)]),_:1}),o(H,null,{default:u(()=>[o(ve,{headers:i.sectorHeaders,items:i.sectorTableData,"items-per-page":5,density:"comfortable",class:"elevation-1"},{item:u(({item:r})=>[b("tr",null,[b("td",null,C(r.name),1),b("td",null,[o(tt,{value:r.percentage,height:"20",color:"primary"},{default:u(()=>[O(C(r.percentage.toFixed(1))+"% ",1)]),_:2},1032,["value"])])])]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o(_e,null,{default:u(()=>[o(re,null,{default:u(()=>[o(Q,null,{default:u(()=>[o(K,null,{default:u(()=>[t[8]||(t[8]=O(" Performance Analysis (Returns) ")),o(Ae)]),_:1}),o(H,null,{default:u(()=>[o(ve,{headers:i.performanceHeaders,items:i.performanceTableData,"items-per-page":5,density:"comfortable",class:"elevation-1"},null,8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o(_e,null,{default:u(()=>[o(re,{cols:"12",sm:"6",md:"12",lg:"12"},{default:u(()=>[o(Q,{outlined:""},{default:u(()=>[o(K,{class:"text-subtitle-1"},{default:u(()=>t[9]||(t[9]=[O("Fund Category Distribution")])),_:1}),o(H,null,{default:u(()=>[(G(!0),oe(z,null,Se(n.analysisReport.diversification.category_breakdown,(r,m)=>(G(),Oe(tt,{key:m,value:r.percentage,color:i.getCategoryColor(m),height:"25",striped:""},{default:u(()=>[O(C(m)+": "+C(r.percentage)+"% ",1)]),_:2},1032,["value","color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(Q,null,{default:u(()=>[o(K,{class:"text-h6"},{default:u(()=>t[10]||(t[10]=[O("Expense Ratio Analysis")])),_:1}),o(H,null,{default:u(()=>[o(ve,{headers:e.expenseHeaders,items:n.analysisReport.expenses,"items-per-page":5,density:"comfortable",hover:!0},{"item.relative_cost":u(({item:r})=>[o(ye,{color:i.getExpenseColor(r.relative_cost),"text-color":"white"},{default:u(()=>[O(C(r.relative_cost>0?"+":"")+C(r.relative_cost)+"% ",1)]),_:2},1032,["color"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),o(Q,{class:"mt-4"},{default:u(()=>[o(K,{class:"text-h6"},{default:u(()=>t[11]||(t[11]=[O("Similar ETFs")])),_:1}),o(H,null,{default:u(()=>[o(ve,{headers:e.etfRecommendationHeaders,items:i.formattedEtfRecommendations,"items-per-page":5,density:"comfortable",hover:!0},{"item.overlap_percentage":u(({item:r})=>[O(C(r.overlap_percentage.toFixed(2))+"% ",1)]),"item.etf_fee":u(({item:r})=>[O(C(r.etf_fee.toFixed(2))+"% ",1)]),"item.fund_fee":u(({item:r})=>[O(C(r.fund_fee.toFixed(2))+"% ",1)]),"item.potential_savings":u(({item:r})=>[o(ye,{color:r.potential_savings>.3?"green":"orange","text-color":"white"},{default:u(()=>[O(C(r.potential_savings.toFixed(2))+"% ",1)]),_:2},1032,["color"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),o(An,{modelValue:e.showDialog,"onUpdate:modelValue":t[3]||(t[3]=r=>e.showDialog=r),"max-width":"800px"},{default:u(()=>[o(Q,null,{default:u(()=>[o(K,null,{default:u(()=>[t[13]||(t[13]=O(" Overlap Details ")),o(Ae),o(Ee,{icon:"",onClick:t[0]||(t[0]=r=>e.showDialog=!1)},{default:u(()=>[o(je,null,{default:u(()=>t[12]||(t[12]=[O("$mdiClose")])),_:1})]),_:1})]),_:1}),e.selectedOverlap?(G(),Oe(H,{key:0},{default:u(()=>[o(ha,{modelValue:e.activeTab,"onUpdate:modelValue":t[1]||(t[1]=r=>e.activeTab=r)},{default:u(()=>[o(Re,null,{default:u(()=>t[14]||(t[14]=[O("Overlapping Stocks")])),_:1}),o(Re,null,{default:u(()=>t[15]||(t[15]=[O("Unique Stocks")])),_:1}),o(Re,null,{default:u(()=>t[16]||(t[16]=[O("Fund Comparison")])),_:1})]),_:1},8,["modelValue"]),o(Ye,{modelValue:e.activeTab,"onUpdate:modelValue":t[2]||(t[2]=r=>e.activeTab=r)},{default:u(()=>[o(be,null,{default:u(()=>[o(nt,null,{default:u(()=>[b("thead",null,[b("tr",null,[t[17]||(t[17]=b("th",null,"Stock",-1)),b("th",null,C(e.selectedOverlap.comparison_metadata.fund1.name)+" (%) ",1),b("th",null,C(e.selectedOverlap.comparison_metadata.fund2.name)+" (%) ",1)])]),b("tbody",null,[(G(!0),oe(z,null,Se(e.selectedOverlap.overlapping_stocks,r=>(G(),oe("tr",{key:r.stock_name},[b("td",null,C(r.stock_name),1),b("td",null,C(r.fund1_holding),1),b("td",null,C(r.fund2_holding),1)]))),128))])]),_:1})]),_:1}),o(be,null,{default:u(()=>[o(_e,null,{default:u(()=>[o(re,{cols:"6"},{default:u(()=>[b("h3",null,C(e.selectedOverlap.comparison_metadata.fund1.name)+" Unique Stocks ",1),o(qe,{dense:""},{default:u(()=>[(G(!0),oe(z,null,Se(e.selectedOverlap.fund1_unique_stocks,r=>(G(),Oe(Fe,{key:r},{default:u(()=>[O(C(r),1)]),_:2},1024))),128))]),_:1})]),_:1}),o(re,{cols:"6"},{default:u(()=>[b("h3",null,C(e.selectedOverlap.comparison_metadata.fund2.name)+" Unique Stocks ",1),o(qe,{dense:""},{default:u(()=>[(G(!0),oe(z,null,Se(e.selectedOverlap.fund2_unique_stocks,r=>(G(),Oe(Fe,{key:r},{default:u(()=>[O(C(r),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),o(be,null,{default:u(()=>[o(nt,null,{default:u(()=>[b("thead",null,[b("tr",null,[t[18]||(t[18]=b("th",null,"Metric",-1)),b("th",null,C(e.selectedOverlap.comparison_metadata.fund1.name),1),b("th",null,C(e.selectedOverlap.comparison_metadata.fund2.name),1)])]),b("tbody",null,[b("tr",null,[t[19]||(t[19]=b("td",null,"AUM (millions)",-1)),b("td",null,C(e.selectedOverlap.comparison_metadata.fund1.aum),1),b("td",null,C(e.selectedOverlap.comparison_metadata.fund2.aum),1)]),b("tr",null,[t[20]||(t[20]=b("td",null,"Star Rating",-1)),b("td",null,[o(ct,{value:e.selectedOverlap.comparison_metadata.fund1.star_rating,readonly:"",small:"",dense:""},null,8,["value"])]),b("td",null,[o(ct,{value:e.selectedOverlap.comparison_metadata.fund2.star_rating,readonly:"",small:"",dense:""},null,8,["value"])])]),b("tr",null,[t[21]||(t[21]=b("td",null,"Expense Ratio",-1)),b("td",null,C(e.selectedOverlap.comparison_metadata.fund1.expenses_ratio)+"% ",1),b("td",null,C(e.selectedOverlap.comparison_metadata.fund2.expenses_ratio)+"% ",1)])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):Nn("",!0)]),_:1})]),_:1},8,["modelValue"])])}const Ta=Ht(pa,[["render",_a],["__scopeId","data-v-540ea6d9"]]),Ca=q`
    query  GetStocks{
        stock{
            id
            company_name
        }
    }
`,Sa=q`
query  GetUserMFPortfolio($email: String!){
        portfolio_mutual_funds(where: {user: {email : {_eq: $email}}}){
						mutual_fund{
              id
              name
              return_3Y
              star_rating
            }   
  			}
}
`,Oa=q`
mutation InsertMFPortfolio($object: portfolio_mutual_funds_insert_input!) {
  insert_portfolio_mutual_funds_one(object: $object) {
    mutual_fund_id
    user_id
  }
}
`,Na=q`
mutation deleteUserMutualFundPortfolio($mutual_fund_id: Int!, $email: String!){
  delete_portfolio_mutual_funds(where: {
    mutual_fund_id: {_eq: $mutual_fund_id},
    user: {email: {_eq: $email}}
  }){
    affected_rows
  }
}
`,Aa=q`
query  GetUserStockPortfolio($email: String!){
        portfolio_stocks(where: {user: {email : {_eq: $email}}}){
						stock{
              id
              company_name
            }   
  			}
}
`,Ia=q`
mutation InsertStockPortfolio($object: portfolio_stocks_insert_input!) {
  insert_portfolio_stocks_one(object: $object) {
    stock_id
    user_id
  }
}
`,wa=q`
mutation deleteUserStockPortfolio($stock_id: Int!, $email: String!){
  delete_portfolio_stocks(where: {
    stock_id: {_eq: $stock_id},
    user: {email: {_eq: $email}}
  }){
    affected_rows
  }
}
`,Ra=q`
query UserStockPortfolio($email: String!, $fromDate: date!, $toDate: date!, $fromDateTime: timestamptz!, $toDateTime: timestamptz!){
  portfolio_stocks(where: {user:{email: {_eq: $email}}}){
    stock{
      company_name
      stock_price_dailies(where: {price_date: {_gte: $fromDate, _lte: $toDate}}){
        open
        high
        low
        volume
        price_date
      }
      stock_announcements (where: {announcement_sentiment:{_gt:-1}, announcement_date: {_gte: $fromDate, _lte: $toDate}}){
        announcement_date
        announcement_text_summary
        announcement_impact
        announcement_document_link
        announcement_sentiment
      }
      insider_trades (where: {created_at: {_gte: $fromDateTime, _lte: $toDateTime}}){
        intimation_date
        name_of_insider
        number_of_securities_transacted
        number_of_securities_after_transaction
        number_of_securities_before_transaction
        type_of_security
        shareholding_before_transaction
        shareholding_after_transaction
        mode_of_transaction
        transaction_type
        category_of_insider
      }
    }
    
  }
  
}
`;function ga(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?o(z,null,[o("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),o("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),o("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const ya=de({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Qt({filterKeys:["title"]}),...Jt(),...Ke(Xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Zt({transition:!1})},"VAutocomplete"),Da=fe()({name:"VAutocomplete",props:ya(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=gt(),a=ue(),i=le(!1),r=le(!0),m=le(!1),y=ue(),d=ue(),p=ce(e,"menu"),_=F({get:()=>p.value,set:c=>{var x;p.value&&!c&&((x=y.value)!=null&&x.ΨopenChildren.size)||(p.value=c)}}),f=le(-1),S=F(()=>{var c;return(c=a.value)==null?void 0:c.color}),E=F(()=>_.value?e.closeText:e.openText),{items:v,transformIn:A,transformOut:I}=en(e),{textColorClasses:N,textColorStyles:B}=vt(S),k=ce(e,"search",""),g=ce(e,"modelValue",[],c=>A(c===null?[null]:Sn(c)),c=>{const x=I(c);return e.multiple?x:x[0]??null}),W=F(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:g.value.length),U=tn(e),{filteredItems:J,getMatches:ne}=nn(e,v,()=>r.value?"":k.value),P=F(()=>e.hideSelected?J.value.filter(c=>!g.value.some(x=>x.value===c.value)):J.value),ae=F(()=>!!(e.chips||n.chip)),se=F(()=>ae.value||!!n.selection),Pe=F(()=>g.value.map(c=>c.props.value)),me=F(()=>{var x;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&k.value===((x=P.value[0])==null?void 0:x.title))&&P.value.length>0&&!r.value&&!m.value}),ie=F(()=>e.hideNoData&&!P.value.length||U.isReadonly.value||U.isDisabled.value),Me=ue(),St=an(Me,a);function Ot(c){e.openOnClear&&(_.value=!0),k.value=""}function Nt(){ie.value||(_.value=!0)}function At(c){ie.value||(i.value&&(c.preventDefault(),c.stopPropagation()),_.value=!_.value)}function It(c){var x;Cn(c)&&((x=a.value)==null||x.focus())}function wt(c){var T,w,$;if(U.isReadonly.value)return;const x=a.value.selectionStart,R=g.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(c.key))&&c.preventDefault(),["Enter","ArrowDown"].includes(c.key)&&(_.value=!0),["Escape"].includes(c.key)&&(_.value=!1),me.value&&["Enter","Tab"].includes(c.key)&&!g.value.some(L=>{let{value:M}=L;return M===P.value[0].value})&&X(P.value[0]),c.key==="ArrowDown"&&me.value&&((T=Me.value)==null||T.focus("next")),["Backspace","Delete"].includes(c.key)){if(!e.multiple&&se.value&&g.value.length>0&&!k.value)return X(g.value[0],!1);if(~f.value){const L=f.value;X(g.value[f.value],!1),f.value=L>=R-1?R-2:L}else c.key==="Backspace"&&!k.value&&(f.value=R-1)}if(e.multiple){if(c.key==="ArrowLeft"){if(f.value<0&&x>0)return;const L=f.value>-1?f.value-1:R-1;g.value[L]?f.value=L:(f.value=-1,a.value.setSelectionRange((w=k.value)==null?void 0:w.length,($=k.value)==null?void 0:$.length))}if(c.key==="ArrowRight"){if(f.value<0)return;const L=f.value+1;g.value[L]?f.value=L:(f.value=-1,a.value.setSelectionRange(0,0))}}}function Rt(c){if(it(a.value,":autofill")||it(a.value,":-webkit-autofill")){const x=v.value.find(R=>R.title===c.target.value);x&&X(x)}}function Dt(){var c;e.eager&&((c=d.value)==null||c.calculateVisibleItems())}function Ft(){var c;i.value&&(r.value=!0,(c=a.value)==null||c.focus())}function Lt(c){i.value=!0,setTimeout(()=>{m.value=!0})}function Vt(c){m.value=!1}function Pt(c){(c==null||c===""&&!e.multiple&&!se.value)&&(g.value=[])}const Be=le(!1);function X(c){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!c||c.props.disabled))if(e.multiple){const R=g.value.findIndex(w=>e.valueComparator(w.value,c.value)),T=x??!~R;if(~R){const w=T?[...g.value,c]:[...g.value];w.splice(R,1),g.value=w}else T&&(g.value=[...g.value,c]);e.clearOnSelect&&(k.value="")}else{const R=x!==!1;g.value=R?[c]:[],k.value=R&&!se.value?c.title:"",rt(()=>{_.value=!1,r.value=!0})}}return Ne(i,(c,x)=>{var R;c!==x&&(c?(Be.value=!0,k.value=e.multiple||se.value?"":String(((R=g.value.at(-1))==null?void 0:R.props.title)??""),r.value=!0,rt(()=>Be.value=!1)):(!e.multiple&&k.value==null&&(g.value=[]),_.value=!1,g.value.some(T=>{let{title:w}=T;return w===k.value})||(k.value=""),f.value=-1))}),Ne(k,c=>{!i.value||Be.value||(c&&(_.value=!0),r.value=!c)}),Ne(_,()=>{if(!e.hideSelected&&_.value&&g.value.length){const c=P.value.findIndex(x=>g.value.some(R=>x.value===R.value));En&&window.requestAnimationFrame(()=>{var x;c>=0&&((x=d.value)==null||x.scrollToIndex(c))})}}),Ne(()=>e.items,(c,x)=>{_.value||i.value&&!x.length&&c.length&&(_.value=!0)}),he(()=>{const c=!!(!e.hideNoData||P.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),x=g.value.length>0,R=at.filterProps(e);return o(at,j({ref:a},R,{modelValue:k.value,"onUpdate:modelValue":[T=>k.value=T,Pt],focused:i.value,"onUpdate:focused":T=>i.value=T,validationValue:g.externalValue,counterValue:W.value,dirty:x,onChange:Rt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":_.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!se.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:U.isReadonly.value,placeholder:x?void 0:e.placeholder,"onClick:clear":Ot,"onMousedown:control":Nt,onKeydown:wt}),{...n,default:()=>o(z,null,[o(sn,j({ref:y,modelValue:_.value,"onUpdate:modelValue":T=>_.value=T,activator:"parent",contentClass:"v-autocomplete__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Dt,onAfterLeave:Ft},e.menuProps),{default:()=>[c&&o(qe,j({ref:Me,selected:Pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:It,onFocusin:Lt,onFocusout:Vt,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},St,e.listProps),{default:()=>{var T,w,$;return[(T=n["prepend-item"])==null?void 0:T.call(n),!P.value.length&&!e.hideNoData&&(((w=n["no-data"])==null?void 0:w.call(n))??o(Fe,{title:s(e.noDataText)},null)),o(rn,{ref:d,renderless:!0,items:P.value},{default:L=>{var Xe;let{item:M,index:Z,itemRef:Y}=L;const Je=j(M.props,{ref:Y,key:Z,active:me.value&&Z===0?!0:void 0,onClick:()=>X(M,null)});return((Xe=n.item)==null?void 0:Xe.call(n,{item:M,index:Z,props:Je}))??o(Fe,j(Je,{role:"option"}),{prepend:ke=>{let{isSelected:Te}=ke;return o(z,null,[e.multiple&&!e.hideSelected?o(on,{key:M.value,modelValue:Te,ripple:!1,tabindex:"-1"},null):void 0,M.props.prependAvatar&&o(ln,{image:M.props.prependAvatar},null),M.props.prependIcon&&o(je,{icon:M.props.prependIcon},null)])},title:()=>{var ke,Te;return r.value?M.title:ga(M.title,(ke=ne(M))==null?void 0:ke.title,((Te=k.value)==null?void 0:Te.length)??0)}})}}),($=n["append-item"])==null?void 0:$.call(n)]}})]}),g.value.map((T,w)=>{function $(Y){Y.stopPropagation(),Y.preventDefault(),X(T,!1)}const L={"onClick:close":$,onKeydown(Y){Y.key!=="Enter"&&Y.key!==" "||(Y.preventDefault(),Y.stopPropagation(),$(Y))},onMousedown(Y){Y.preventDefault(),Y.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},M=ae.value?!!n.chip:!!n.selection,Z=M?kn(ae.value?n.chip({item:T,index:w,props:L}):n.selection({item:T,index:w})):void 0;if(!(M&&!Z))return o("div",{key:T.value,class:["v-autocomplete__selection",w===f.value&&["v-autocomplete__selection--selected",N.value]],style:w===f.value?B.value:{}},[ae.value?n.chip?o(un,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:T.title}}},{default:()=>[Z]}):o(ye,j({key:"chip",closable:e.closableChips,size:"small",text:T.title,disabled:T.props.disabled},L),null):Z??o("span",{class:"v-autocomplete__selection-text"},[T.title,e.multiple&&w<g.value.length-1&&o("span",{class:"v-autocomplete__selection-comma"},[O(",")])])])})]),"append-inner":function(){var L;for(var T=arguments.length,w=new Array(T),$=0;$<T;$++)w[$]=arguments[$];return o(z,null,[(L=n["append-inner"])==null?void 0:L.call(n,...w),e.menuIcon?o(je,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:At,onClick:Tn,"aria-label":s(E.value),title:s(E.value),tabindex:"-1"},null):void 0])}})}),_t({isFocused:i,isPristine:r,menu:_,search:k,filteredItems:J,select:X},a)}});export{Na as D,Sa as G,Oa as I,Ta as M,Da as V,Ae as a,Ra as b,Ia as c,wa as d,Aa as e,Ca as f};
//# sourceMappingURL=VAutocomplete-zf1Eh8kq.js.map
