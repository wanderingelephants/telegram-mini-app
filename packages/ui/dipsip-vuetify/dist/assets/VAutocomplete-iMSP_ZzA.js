import{ai as dt,aj as Re,ak as ht,al as Mt,am as Bt,an as ft,ao as Ue,ap as f,aq as ke,ar as Ut,as as Ze,at as pt,au as $t,ac as mt,E as xe,av as Yt,d as vt,r as _t,aw as qt,ax as Ye,ay as jt,az as ye,aA as zt,aB as Gt,N as Wt,W as Kt,aC as et,_ as Ht,A as H,C as Q,a6 as Te,p as Ie,z as J,x as ve,y as re,$ as tt,o as qe,Y as nt,i as je,j as Fe,m as Qt,a as Jt,b as Xt,c as Zt,u as en,e as tn,f as nn,g as an,V as at,h as sn,k as rn,l as on,n as ln,q as un}from"./index-DltxW-tp.js";import{T as cn,p as de,J as st,m as dn,b as hn,g as he,W as gt,d as fn,B as ce,z as pn,ax as mn,E as vn,f as fe,a0 as Ke,h as _n,s as gn,l as yn,o as xn,Q as bn,O as En,av as kn,aI as Tn,aw as Cn,$ as it,G as Sn}from"./vuetify-BlS6c2-T.js";import{c as F,s as le,m as o,F as z,n as q,Q as w,d as ue,f as Nn,E as ee,N as G,S as oe,P as c,R as b,V as S,U as Ce,O as Se,_ as On,w as Ne,A as rt}from"./vue-Ci2-vDhJ.js";import{V as An}from"./VDialog-CL_Hz--k.js";const Oe=cn("v-spacer","div","VSpacer");function In(e){return typeof e=="object"&&e!==null}function wn(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Dn=/\r\n|[\n\r]/g;function ze(e,t){let n=0,s=1;for(const a of e.body.matchAll(Dn)){if(typeof a.index=="number"||wn(!1),a.index>=t)break;n=a.index+a[0].length,s+=1}return{line:s,column:t+1-n}}function Rn(e){return yt(e.source,ze(e.source,e.start))}function yt(e,t){const n=e.locationOffset.column-1,s="".padStart(n)+e.body,a=t.line-1,i=e.locationOffset.line-1,l=t.line+i,m=t.line===1?n:0,y=t.column+m,d=`${e.name}:${l}:${y}
`,p=s.split(/\r\n|[\n\r]/g),_=p[a];if(_.length>120){const h=Math.floor(y/80),C=y%80,E=[];for(let v=0;v<_.length;v+=80)E.push(_.slice(v,v+80));return d+ot([[`${l} |`,E[0]],...E.slice(1,h+1).map(v=>["|",v]),["|","^".padStart(C)],["|",E[h+1]]])}return d+ot([[`${l-1} |`,p[a-1]],[`${l} |`,_],["|","^".padStart(y)],[`${l+1} |`,p[a+1]]])}function ot(e){const t=e.filter(([s,a])=>a!==void 0),n=Math.max(...t.map(([s])=>s.length));return t.map(([s,a])=>s.padStart(n)+(a?" "+a:"")).join(`
`)}function Fn(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class He extends Error{constructor(t,...n){var s,a,i;const{nodes:l,source:m,positions:y,path:d,originalError:p,extensions:_}=Fn(n);super(t),this.name="GraphQLError",this.path=d??void 0,this.originalError=p??void 0,this.nodes=lt(Array.isArray(l)?l:l?[l]:void 0);const h=lt((s=this.nodes)===null||s===void 0?void 0:s.map(E=>E.loc).filter(E=>E!=null));this.source=m??(h==null||(a=h[0])===null||a===void 0?void 0:a.source),this.positions=y??(h==null?void 0:h.map(E=>E.start)),this.locations=y&&m?y.map(E=>ze(m,E)):h==null?void 0:h.map(E=>ze(E.source,E.start));const C=In(p==null?void 0:p.extensions)?p==null?void 0:p.extensions:void 0;this.extensions=(i=_??C)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),p!=null&&p.stack?Object.defineProperty(this,"stack",{value:p.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,He):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Rn(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+yt(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function lt(e){return e===void 0||e.length===0?void 0:e}function V(e,t,n){return new He(`Syntax Error: ${n}`,{source:e,positions:[t]})}var Ge;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ge||(Ge={}));var r;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(r||(r={}));class Ln{constructor(t){const n=new dt(r.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==r.EOF)do if(t.next)t=t.next;else{const n=Pn(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===r.COMMENT);return t}}function Vn(e){return e===r.BANG||e===r.DOLLAR||e===r.AMP||e===r.PAREN_L||e===r.PAREN_R||e===r.SPREAD||e===r.COLON||e===r.EQUALS||e===r.AT||e===r.BRACKET_L||e===r.BRACKET_R||e===r.BRACE_L||e===r.PIPE||e===r.BRACE_R}function pe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ve(e,t){return xt(e.charCodeAt(t))&&bt(e.charCodeAt(t+1))}function xt(e){return e>=55296&&e<=56319}function bt(e){return e>=56320&&e<=57343}function te(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return r.EOF;if(n>=32&&n<=126){const s=String.fromCodePoint(n);return s==='"'?`'"'`:`"${s}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function R(e,t,n,s,a){const i=e.line,l=1+n-e.lineStart;return new dt(t,n,s,i,l,a)}function Pn(e,t){const n=e.source.body,s=n.length;let a=t;for(;a<s;){const i=n.charCodeAt(a);switch(i){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++e.line,e.lineStart=a;continue;case 35:return Mn(e,a);case 33:return R(e,r.BANG,a,a+1);case 36:return R(e,r.DOLLAR,a,a+1);case 38:return R(e,r.AMP,a,a+1);case 40:return R(e,r.PAREN_L,a,a+1);case 41:return R(e,r.PAREN_R,a,a+1);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return R(e,r.SPREAD,a,a+3);break;case 58:return R(e,r.COLON,a,a+1);case 61:return R(e,r.EQUALS,a,a+1);case 64:return R(e,r.AT,a,a+1);case 91:return R(e,r.BRACKET_L,a,a+1);case 93:return R(e,r.BRACKET_R,a,a+1);case 123:return R(e,r.BRACE_L,a,a+1);case 124:return R(e,r.PIPE,a,a+1);case 125:return R(e,r.BRACE_R,a,a+1);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?jn(e,a):Un(e,a)}if(Re(i)||i===45)return Bn(e,a,i);if(ht(i))return zn(e,a);throw V(e.source,a,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:pe(i)||Ve(n,a)?`Unexpected character: ${te(e,a)}.`:`Invalid character: ${te(e,a)}.`)}return R(e,r.EOF,s,s)}function Mn(e,t){const n=e.source.body,s=n.length;let a=t+1;for(;a<s;){const i=n.charCodeAt(a);if(i===10||i===13)break;if(pe(i))++a;else if(Ve(n,a))a+=2;else break}return R(e,r.COMMENT,t,a,n.slice(t+1,a))}function Bn(e,t,n){const s=e.source.body;let a=t,i=n,l=!1;if(i===45&&(i=s.charCodeAt(++a)),i===48){if(i=s.charCodeAt(++a),Re(i))throw V(e.source,a,`Invalid number, unexpected digit after 0: ${te(e,a)}.`)}else a=$e(e,a,i),i=s.charCodeAt(a);if(i===46&&(l=!0,i=s.charCodeAt(++a),a=$e(e,a,i),i=s.charCodeAt(a)),(i===69||i===101)&&(l=!0,i=s.charCodeAt(++a),(i===43||i===45)&&(i=s.charCodeAt(++a)),a=$e(e,a,i),i=s.charCodeAt(a)),i===46||ht(i))throw V(e.source,a,`Invalid number, expected digit but got: ${te(e,a)}.`);return R(e,l?r.FLOAT:r.INT,t,a,s.slice(t,a))}function $e(e,t,n){if(!Re(n))throw V(e.source,t,`Invalid number, expected digit but got: ${te(e,t)}.`);const s=e.source.body;let a=t+1;for(;Re(s.charCodeAt(a));)++a;return a}function Un(e,t){const n=e.source.body,s=n.length;let a=t+1,i=a,l="";for(;a<s;){const m=n.charCodeAt(a);if(m===34)return l+=n.slice(i,a),R(e,r.STRING,t,a+1,l);if(m===92){l+=n.slice(i,a);const y=n.charCodeAt(a+1)===117?n.charCodeAt(a+2)===123?$n(e,a):Yn(e,a):qn(e,a);l+=y.value,a+=y.size,i=a;continue}if(m===10||m===13)break;if(pe(m))++a;else if(Ve(n,a))a+=2;else throw V(e.source,a,`Invalid character within String: ${te(e,a)}.`)}throw V(e.source,a,"Unterminated string.")}function $n(e,t){const n=e.source.body;let s=0,a=3;for(;a<12;){const i=n.charCodeAt(t+a++);if(i===125){if(a<5||!pe(s))break;return{value:String.fromCodePoint(s),size:a}}if(s=s<<4|ge(i),s<0)break}throw V(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+a)}".`)}function Yn(e,t){const n=e.source.body,s=ut(n,t+2);if(pe(s))return{value:String.fromCodePoint(s),size:6};if(xt(s)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const a=ut(n,t+8);if(bt(a))return{value:String.fromCodePoint(s,a),size:12}}throw V(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ut(e,t){return ge(e.charCodeAt(t))<<12|ge(e.charCodeAt(t+1))<<8|ge(e.charCodeAt(t+2))<<4|ge(e.charCodeAt(t+3))}function ge(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function qn(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw V(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function jn(e,t){const n=e.source.body,s=n.length;let a=e.lineStart,i=t+3,l=i,m="";const y=[];for(;i<s;){const d=n.charCodeAt(i);if(d===34&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34){m+=n.slice(l,i),y.push(m);const p=R(e,r.BLOCK_STRING,t,i+3,Mt(y).join(`
`));return e.line+=y.length-1,e.lineStart=a,p}if(d===92&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34&&n.charCodeAt(i+3)===34){m+=n.slice(l,i),l=i+1,i+=4;continue}if(d===10||d===13){m+=n.slice(l,i),y.push(m),d===13&&n.charCodeAt(i+1)===10?i+=2:++i,m="",l=i,a=i;continue}if(pe(d))++i;else if(Ve(n,i))i+=2;else throw V(e.source,i,`Invalid character within String: ${te(e,i)}.`)}throw V(e.source,i,"Unterminated string.")}function zn(e,t){const n=e.source.body,s=n.length;let a=t+1;for(;a<s;){const i=n.charCodeAt(a);if(Bt(i))++a;else break}return R(e,r.NAME,t,a,n.slice(t,a))}const Gn=globalThis.process&&!0,Wn=Gn?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var s;const a=n.prototype[Symbol.toStringTag],i=Symbol.toStringTag in t?t[Symbol.toStringTag]:(s=t.constructor)===null||s===void 0?void 0:s.name;if(a===i){const l=ft(t);throw new Error(`Cannot use ${a} "${l}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Et{constructor(t,n="GraphQL request",s={line:1,column:1}){typeof t=="string"||Ue(!1,`Body must be a string. Received: ${ft(t)}.`),this.body=t,this.name=n,this.locationOffset=s,this.locationOffset.line>0||Ue(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ue(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Kn(e){return Wn(e,Et)}function Hn(e,t){const n=new Qn(e,t),s=n.parseDocument();return Object.defineProperty(s,"tokenCount",{enumerable:!1,value:n.tokenCount}),s}class Qn{constructor(t,n={}){const s=Kn(t)?t:new Et(t);this._lexer=new Ln(s),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(r.NAME);return this.node(t,{kind:f.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:f.DOCUMENT,definitions:this.many(r.SOF,this.parseDefinition,r.EOF)})}parseDefinition(){if(this.peek(r.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===r.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw V(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(r.BRACE_L))return this.node(t,{kind:f.OPERATION_DEFINITION,operation:ke.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let s;return this.peek(r.NAME)&&(s=this.parseName()),this.node(t,{kind:f.OPERATION_DEFINITION,operation:n,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(r.NAME);switch(t.value){case"query":return ke.QUERY;case"mutation":return ke.MUTATION;case"subscription":return ke.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(r.PAREN_L,this.parseVariableDefinition,r.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:f.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(r.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(r.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(r.DOLLAR),this.node(t,{kind:f.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:f.SELECTION_SET,selections:this.many(r.BRACE_L,this.parseSelection,r.BRACE_R)})}parseSelection(){return this.peek(r.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let s,a;return this.expectOptionalToken(r.COLON)?(s=n,a=this.parseName()):a=n,this.node(t,{kind:f.FIELD,alias:s,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(r.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(r.PAREN_L,n,r.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,s=this.parseName();return this.expectToken(r.COLON),this.node(n,{kind:f.ARGUMENT,name:s,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(r.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(r.NAME)?this.node(t,{kind:f.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:f.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:f.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:f.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case r.BRACKET_L:return this.parseList(t);case r.BRACE_L:return this.parseObject(t);case r.INT:return this.advanceLexer(),this.node(n,{kind:f.INT,value:n.value});case r.FLOAT:return this.advanceLexer(),this.node(n,{kind:f.FLOAT,value:n.value});case r.STRING:case r.BLOCK_STRING:return this.parseStringLiteral();case r.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:f.BOOLEAN,value:!0});case"false":return this.node(n,{kind:f.BOOLEAN,value:!1});case"null":return this.node(n,{kind:f.NULL});default:return this.node(n,{kind:f.ENUM,value:n.value})}case r.DOLLAR:if(t)if(this.expectToken(r.DOLLAR),this._lexer.token.kind===r.NAME){const s=this._lexer.token.value;throw V(this._lexer.source,n.start,`Unexpected variable "$${s}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:f.STRING,value:t.value,block:t.kind===r.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:f.LIST,values:this.any(r.BRACKET_L,n,r.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:f.OBJECT,fields:this.any(r.BRACE_L,n,r.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,s=this.parseName();return this.expectToken(r.COLON),this.node(n,{kind:f.OBJECT_FIELD,name:s,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(r.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(r.AT),this.node(n,{kind:f.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(r.BRACKET_L)){const s=this.parseTypeReference();this.expectToken(r.BRACKET_R),n=this.node(t,{kind:f.LIST_TYPE,type:s})}else n=this.parseNamedType();return this.expectOptionalToken(r.BANG)?this.node(t,{kind:f.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:f.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(r.STRING)||this.peek(r.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const s=this.parseConstDirectives(),a=this.many(r.BRACE_L,this.parseOperationTypeDefinition,r.BRACE_R);return this.node(t,{kind:f.SCHEMA_DEFINITION,description:n,directives:s,operationTypes:a})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(r.COLON);const s=this.parseNamedType();return this.node(t,{kind:f.OPERATION_TYPE_DEFINITION,operation:n,type:s})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const s=this.parseName(),a=this.parseConstDirectives();return this.node(t,{kind:f.SCALAR_TYPE_DEFINITION,description:n,name:s,directives:a})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const s=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),l=this.parseFieldsDefinition();return this.node(t,{kind:f.OBJECT_TYPE_DEFINITION,description:n,name:s,interfaces:a,directives:i,fields:l})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(r.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(r.BRACE_L,this.parseFieldDefinition,r.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName(),a=this.parseArgumentDefs();this.expectToken(r.COLON);const i=this.parseTypeReference(),l=this.parseConstDirectives();return this.node(t,{kind:f.FIELD_DEFINITION,description:n,name:s,arguments:a,type:i,directives:l})}parseArgumentDefs(){return this.optionalMany(r.PAREN_L,this.parseInputValueDef,r.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName();this.expectToken(r.COLON);const a=this.parseTypeReference();let i;this.expectOptionalToken(r.EQUALS)&&(i=this.parseConstValueLiteral());const l=this.parseConstDirectives();return this.node(t,{kind:f.INPUT_VALUE_DEFINITION,description:n,name:s,type:a,defaultValue:i,directives:l})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const s=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),l=this.parseFieldsDefinition();return this.node(t,{kind:f.INTERFACE_TYPE_DEFINITION,description:n,name:s,interfaces:a,directives:i,fields:l})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(t,{kind:f.UNION_TYPE_DEFINITION,description:n,name:s,directives:a,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(r.EQUALS)?this.delimitedMany(r.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(t,{kind:f.ENUM_TYPE_DEFINITION,description:n,name:s,directives:a,values:i})}parseEnumValuesDefinition(){return this.optionalMany(r.BRACE_L,this.parseEnumValueDefinition,r.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(t,{kind:f.ENUM_VALUE_DEFINITION,description:n,name:s,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw V(this._lexer.source,this._lexer.token.start,`${Ae(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const s=this.parseName(),a=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(t,{kind:f.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:s,directives:a,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(r.BRACE_L,this.parseInputValueDef,r.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===r.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),s=this.optionalMany(r.BRACE_L,this.parseOperationTypeDefinition,r.BRACE_R);if(n.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:f.SCHEMA_EXTENSION,directives:n,operationTypes:s})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),s=this.parseConstDirectives();if(s.length===0)throw this.unexpected();return this.node(t,{kind:f.SCALAR_TYPE_EXTENSION,name:n,directives:s})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:f.OBJECT_TYPE_EXTENSION,name:n,interfaces:s,directives:a,fields:i})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:f.INTERFACE_TYPE_EXTENSION,name:n,interfaces:s,directives:a,fields:i})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:f.UNION_TYPE_EXTENSION,name:n,directives:s,types:a})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:f.ENUM_TYPE_EXTENSION,name:n,directives:s,values:a})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),s=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(s.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:f.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:s,fields:a})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(r.AT);const s=this.parseName(),a=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const l=this.parseDirectiveLocations();return this.node(t,{kind:f.DIRECTIVE_DEFINITION,description:n,name:s,arguments:a,repeatable:i,locations:l})}parseDirectiveLocations(){return this.delimitedMany(r.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Ge,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Ut(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw V(this._lexer.source,n.start,`Expected ${kt(t)}, found ${Ae(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===r.NAME&&n.value===t)this.advanceLexer();else throw V(this._lexer.source,n.start,`Expected "${t}", found ${Ae(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===r.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return V(this._lexer.source,n.start,`Unexpected ${Ae(n)}.`)}any(t,n,s){this.expectToken(t);const a=[];for(;!this.expectOptionalToken(s);)a.push(n.call(this));return a}optionalMany(t,n,s){if(this.expectOptionalToken(t)){const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(s));return a}return[]}many(t,n,s){this.expectToken(t);const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(s));return a}delimitedMany(t,n){this.expectOptionalToken(t);const s=[];do s.push(n.call(this));while(this.expectOptionalToken(t));return s}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==r.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw V(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Ae(e){const t=e.value;return kt(e.kind)+(t!=null?` "${t}"`:"")}function kt(e){return Vn(e)?`"${e}"`:e}var we=new Map,We=new Map,Tt=!0,Le=!1;function Ct(e){return e.replace(/[\s,]+/g," ").trim()}function Jn(e){return Ct(e.source.body.substring(e.start,e.end))}function Xn(e){var t=new Set,n=[];return e.definitions.forEach(function(s){if(s.kind==="FragmentDefinition"){var a=s.name.value,i=Jn(s.loc),l=We.get(a);l&&!l.has(i)?Tt&&console.warn("Warning: fragment with name "+a+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):l||We.set(a,l=new Set),l.add(i),t.has(i)||(t.add(i),n.push(s))}else n.push(s)}),Ze(Ze({},e),{definitions:n})}function Zn(e){var t=new Set(e.definitions);t.forEach(function(s){s.loc&&delete s.loc,Object.keys(s).forEach(function(a){var i=s[a];i&&typeof i=="object"&&t.add(i)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function ea(e){var t=Ct(e);if(!we.has(t)){var n=Hn(e,{experimentalFragmentVariables:Le,allowLegacyFragmentVariables:Le});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");we.set(t,Zn(Xn(n)))}return we.get(t)}function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var s=e[0];return t.forEach(function(a,i){a&&a.kind==="Document"?s+=a.loc.source.body:s+=a,s+=e[i+1]}),ea(s)}function ta(){we.clear(),We.clear()}function na(){Tt=!1}function aa(){Le=!0}function sa(){Le=!1}var _e={gql:j,resetCaches:ta,disableFragmentWarnings:na,enableExperimentalFragmentVariables:aa,disableExperimentalFragmentVariables:sa};(function(e){e.gql=_e.gql,e.resetCaches=_e.resetCaches,e.disableFragmentWarnings=_e.disableFragmentWarnings,e.enableExperimentalFragmentVariables=_e.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=_e.disableExperimentalFragmentVariables})(j||(j={}));j.default=j;const ia=de({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:st,default:"$ratingEmpty"},fullIcon:{type:st,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...dn(),...pt(),...$t(),...mt(),...hn()},"VRating"),ct=he()({name:"VRating",props:ia(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=gt(),{themeClasses:a}=fn(e),i=ce(e,"modelValue"),l=F(()=>pn(parseFloat(i.value),0,+e.length)),m=F(()=>mn(Number(e.length),1)),y=F(()=>m.value.flatMap(v=>e.halfIncrements?[v-.5,v]:[v])),d=le(-1),p=F(()=>y.value.map(v=>{const O=e.hover&&d.value>-1,A=l.value>=v,N=d.value>=v,k=(O?N:A)?e.fullIcon:e.emptyIcon,g=e.activeColor??e.color,W=A||N?g:e.color;return{isFilled:A,isHovered:N,icon:k,color:W}})),_=F(()=>[0,...y.value].map(v=>{function O(){d.value=v}function A(){d.value=-1}function N(){e.disabled||e.readonly||(i.value=l.value===v&&e.clearable?0:v)}return{onMouseenter:e.hover?O:void 0,onMouseleave:e.hover?A:void 0,onClick:N}})),h=F(()=>e.name??`v-rating-${vn()}`);function C(v){var K,ne;let{value:O,index:A,showStar:N=!0}=v;const{onMouseenter:B,onMouseleave:k,onClick:g}=_.value[A+1],W=`${h.value}-${String(O).replace(".","-")}`,U={color:(K=p.value[A])==null?void 0:K.color,density:e.density,disabled:e.disabled,icon:(ne=p.value[A])==null?void 0:ne.icon,ripple:e.ripple,size:e.size,variant:"plain"};return o(z,null,[o("label",{for:W,class:{"v-rating__item--half":e.halfIncrements&&O%1>0,"v-rating__item--full":e.halfIncrements&&O%1===0},onMouseenter:B,onMouseleave:k,onClick:g},[o("span",{class:"v-rating__hidden"},[s(e.itemAriaLabel,O,e.length)]),N?n.item?n.item({...p.value[A],props:U,value:O,index:A,rating:l.value}):o(xe,q({"aria-label":s(e.itemAriaLabel,O,e.length)},U),null):void 0]),o("input",{class:"v-rating__hidden",name:h.value,id:W,type:"radio",value:O,checked:l.value===O,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function E(v){return n["item-label"]?n["item-label"](v):v.label?o("span",null,[v.label]):o("span",null,[w(" ")])}return fe(()=>{var O;const v=!!((O=e.itemLabels)!=null&&O.length)||n["item-label"];return o(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class],style:e.style},{default:()=>[o(C,{value:0,index:-1,showStar:!1},null),m.value.map((A,N)=>{var B,k;return o("div",{class:"v-rating__wrapper"},[v&&e.itemLabelPosition==="top"?E({value:A,index:N,label:(B=e.itemLabels)==null?void 0:B[N]}):void 0,o("div",{class:"v-rating__item"},[e.halfIncrements?o(z,null,[o(C,{value:A-.5,index:N*2},null),o(C,{value:A,index:N*2+1},null)]):o(C,{value:A,index:N},null)]),v&&e.itemLabelPosition==="bottom"?E({value:A,index:N,label:(k=e.itemLabels)==null?void 0:k[N]}):void 0])})]})}),{}}}),Qe=Symbol.for("vuetify:v-tabs"),ra=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ke(Yt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),De=he()({name:"VTab",props:ra(),setup(e,t){let{slots:n,attrs:s}=t;const{textColorClasses:a,textColorStyles:i}=vt(e,"sliderColor"),l=ue(),m=ue(),y=F(()=>e.direction==="horizontal"),d=F(()=>{var _,h;return((h=(_=l.value)==null?void 0:_.group)==null?void 0:h.isSelected.value)??!1});function p(_){var C,E;let{value:h}=_;if(h){const v=(E=(C=l.value)==null?void 0:C.$el.parentElement)==null?void 0:E.querySelector(".v-tab--selected .v-tab__slider"),O=m.value;if(!v||!O)return;const A=getComputedStyle(v).color,N=v.getBoundingClientRect(),B=O.getBoundingClientRect(),k=y.value?"x":"y",g=y.value?"X":"Y",W=y.value?"right":"bottom",U=y.value?"width":"height",K=N[k],ne=B[k],P=K>ne?N[W]-B[W]:N[k]-B[k],ae=Math.sign(P)>0?y.value?"right":"bottom":Math.sign(P)<0?y.value?"left":"top":"center",Pe=(Math.abs(P)+(Math.sign(P)<0?N[U]:B[U]))/Math.max(N[U],B[U])||0,me=N[U]/B[U]||0,ie=1.5;_n(O,{backgroundColor:[A,"currentcolor"],transform:[`translate${g}(${P}px) scale${g}(${me})`,`translate${g}(${P/ie}px) scale${g}(${(Pe-1)/ie+1})`,"none"],transformOrigin:Array(3).fill(ae)},{duration:225,easing:gn})}}return fe(()=>{const _=xe.filterProps(e);return o(xe,q({symbol:Qe,ref:l,class:["v-tab",e.class],style:e.style,tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},_,s,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":p}),{...n,default:()=>{var h;return o(z,null,[((h=n.default)==null?void 0:h.call(n))??e.text,!e.hideSlider&&o("div",{ref:m,class:["v-tab__slider",a.value],style:i.value},null)])}})}),_t({},l)}}),oa=de({...Ke(qt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),la=he()({name:"VTabsWindow",props:oa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Nn(Qe,null),a=ce(e,"modelValue"),i=F({get(){var l;return a.value!=null||!s?a.value:(l=s.items.value.find(m=>s.selected.value.includes(m.id)))==null?void 0:l.value},set(l){a.value=l}});return fe(()=>{const l=Ye.filterProps(e);return o(Ye,q({_as:"VTabsWindow"},l,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),ua=de({...jt()},"VTabsWindowItem"),ca=he()({name:"VTabsWindowItem",props:ua(),setup(e,t){let{slots:n}=t;return fe(()=>{const s=ye.filterProps(e);return o(ye,q({_as:"VTabsWindowItem"},s,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function da(e){return e?e.map(t=>bn(t)?t:{text:t,value:t}):[]}const ha=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...zt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...pt(),...mt()},"VTabs"),fa=he()({name:"VTabs",props:ha(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:s}=t;const a=ce(e,"modelValue"),i=F(()=>da(e.items)),{densityClasses:l}=Gt(e),{backgroundColorClasses:m,backgroundColorStyles:y}=Wt(ee(e,"bgColor")),{scopeId:d}=Kt();return yn({VTab:{color:ee(e,"color"),direction:ee(e,"direction"),stacked:ee(e,"stacked"),fixed:ee(e,"fixedTabs"),sliderColor:ee(e,"sliderColor"),hideSlider:ee(e,"hideSlider")}}),fe(()=>{const p=et.filterProps(e),_=!!(s.window||e.items.length>0);return o(z,null,[o(et,q(p,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},l.value,m.value,e.class],style:[{"--v-tabs-height":xn(e.height)},y.value,e.style],role:"tablist",symbol:Qe},d,n),{default:()=>{var h;return[((h=s.default)==null?void 0:h.call(s))??i.value.map(C=>{var E;return((E=s.tab)==null?void 0:E.call(s,{item:C}))??o(De,q(C,{key:C.text,value:C.value}),{default:s[`tab.${C.value}`]?()=>{var v;return(v=s[`tab.${C.value}`])==null?void 0:v.call(s,{item:C})}:void 0})})]}}),_&&o(la,q({modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,key:"tabs-window"},d),{default:()=>{var h;return[i.value.map(C=>{var E;return((E=s.item)==null?void 0:E.call(s,{item:C}))??o(ca,{value:C.value},{default:()=>{var v;return(v=s[`item.${C.value}`])==null?void 0:v.call(s,{item:C})}})}),(h=s.window)==null?void 0:h.call(s)]}})])}),{}}}),pa={name:"MFAnalysis",components:{},props:{analysisReport:{type:Object,required:!0}},data:()=>({showDialog:!1,showSectorDetails:!1,selectedOverlap:null,activeTab:0,downloading:!1,overlapHeaders:[{title:"Fund 1",key:"fund1_name"},{title:"Fund 2",key:"fund2_name"},{title:"Overlap %",key:"overlap_percentage"},{title:"Actions",key:"actions",sortable:!1}],expenseHeaders:[{title:"Fund Name",key:"fund_name"},{title:"Expense Ratio",key:"expense_ratio"},{title:"Category Average",key:"category_avg"},{title:"Relative Cost",key:"relative_cost"}],etfRecommendationHeaders:[{title:"Fund Name",key:"fund_name"},{title:"ETF Name",key:"etf"},{title:"Overlap %",key:"overlap_percentage"},{title:"ETF Fee %",key:"etf_fee"},{title:"Fund Fee %",key:"fund_fee"},{title:"Potential Savings %",key:"potential_savings"}]}),computed:{sectorChartSeries(){return Object.values(this.analysisReport.diversification.sector_breakdown).map(e=>e.percentage)},sectorChartOptions(){return{chart:{type:"donut",animations:{dynamicAnimation:{enabled:!0}}},labels:Object.keys(this.analysisReport.diversification.sector_breakdown),plotOptions:{pie:{donut:{size:"65%"}}},tooltip:{y:{formatter:e=>`${e.toFixed(1)}%`}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",markers:{width:12,height:12,radius:12}},responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}],dataLabels:{enabled:!1},colors:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#3F51B5","#546E7A","#D4526E","#8D5B4C","#F86624","#D7263D","#1B998B","#2E294E","#F46036","#E2C044"]}},sectorTableData(){const e=this.analysisReport.diversification.sector_breakdown;return Object.entries(e).map(([t,n])=>({name:t,percentage:n.percentage})).sort((t,n)=>n.percentage-t.percentage)},sectorHeaders(){return[{title:"Sector",key:"name"},{title:"Allocation (%)",key:"percentage"}]},performanceHeaders(){return[{title:"Fund Name",key:"mutual_fund_name",align:"start",sortable:!0},{title:"5 Year",key:"mutual_fund_return_5Y",align:"end",sortable:!0,format:e=>`${e}%`},{title:"3 Year",key:"mutual_fund_return_3Y",align:"end",sortable:!0,format:e=>`${e}%`},{title:"1 Year",key:"mutual_fund_return_1Y",align:"end",sortable:!0,format:e=>`${e}%`}]},performanceTableData(){const e=this.analysisReport.performanceAnalysis;return console.log("flattened",e.map(t=>({mutual_fund_name:t.mutual_fund_name,mutual_fund_return_1Y:t.mutual_fund_return_1Y||"-",mutual_fund_return_3Y:t.mutual_fund_return_3Y||"-",mutual_fund_return_5Y:t.mutual_fund_return_5Y||"-"}))),e.map(t=>({mutual_fund_name:t.mutual_fund_name,mutual_fund_return_1Y:t.mutual_fund_return_1Y||"-",mutual_fund_return_3Y:t.mutual_fund_return_3Y||"-",mutual_fund_return_5Y:t.mutual_fund_return_5Y||"-"}))},formattedOverlaps(){return this.analysisReport.overlaps.overlaps.map(e=>({fund1_name:e.comparison_metadata.fund1.name,fund2_name:e.comparison_metadata.fund2.name,overlap_percentage:e.overlap_percentage,...e})).sort((e,t)=>t.overlap_percentage-e.overlap_percentage)}},methods:{getOverlapColor(e){return e>=25?"red":e>=15?"orange":"green"},getDiversificationColor(e){return{"over-diversified":"orange",concentrated:"red",optimal:"green"}[e]||"grey"},getCategoryColor(e){return{"large cap":"blue","mid cap":"purple","small cap":"deep-purple","multi cap":"indigo"}[e.toLowerCase()]||"grey"},getExpenseColor(e){return e>.5?"red":e<-.5?"green":"orange"},showOverlapDetails(e){this.selectedOverlap=e,this.showDialog=!0},async downloadCompleteReport(){this.downloading=!0;try{const e=new jsPDF("p","mm","a4");let t=10;e.setFontSize(18),e.text("Mutual Fund Analysis Report",105,t,{align:"center"}),t+=15,e.setFontSize(14),e.text("1. Portfolio Overview",10,t),t+=10,e.setFontSize(10);const n=`Total Unique Stocks: ${this.analysisReport.diversification.unique_stocks.count}`;e.text(n,15,t),t+=5,e.text(`Status: ${this.analysisReport.diversification.unique_stocks.status}`,15,t),t+=5,e.text(`Recommendation: ${this.analysisReport.diversification.unique_stocks.recommendation}`,15,t),t+=15,e.setFontSize(14),e.text("2. Sector Allocation",10,t),t+=10;const s=Object.entries(this.analysisReport.diversification.sector_breakdown).map(([d,p])=>[d,`${p.percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[1])-parseFloat(d[1]));e.autoTable({startY:t,head:[["Sector","Allocation"]],body:s,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:100},1:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("3. Fund Category Distribution",10,t),t+=10;const a=Object.entries(this.analysisReport.diversification.category_breakdown).map(([d,p])=>[d,`${p.percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[1])-parseFloat(d[1]));e.autoTable({startY:t,head:[["Category","Allocation"]],body:a,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:100},1:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("4. Stock Overlaps Analysis",10,t),t+=10;const i=this.formattedOverlaps.filter(d=>d.overlap_percentage>=25).sort((d,p)=>p.overlap_percentage-d.overlap_percentage),l=this.formattedOverlaps.map(d=>[d.fund1_name,d.fund2_name,`${d.overlap_percentage.toFixed(1)}%`]).sort((d,p)=>parseFloat(p[2])-parseFloat(d[2]));e.autoTable({startY:t,head:[["Fund 1","Fund 2","Overlap"]],body:l,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:70},1:{cellWidth:70},2:{cellWidth:30,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,i.length>0&&(e.setFontSize(10),e.text("High Overlap Warning:",15,t,{style:"bold"}),t+=5,e.text("The following fund pairs have significant overlap (>25%):",15,t),t+=5,i.forEach(d=>{const p=`• ${d.fund1_name} - ${d.fund2_name}: ${d.overlap_percentage.toFixed(1)}%`;e.text(p,20,t),t+=5})),t+=5,e.setFontSize(14),e.text("5. Expense Ratio Analysis",10,t),t+=10,console.log(this.analysisReport.expenses);const m=this.analysisReport.expenses.map(d=>[d.fund_name,`${d.expense_ratio.toFixed(2)}%`,`${d.category_avg.toFixed(2)}%`,`${d.relative_cost>0?"+":""}${d.relative_cost.toFixed(2)}%`]);e.autoTable({startY:t,head:[["Fund Name","Expense Ratio","Category Avg","Relative Cost"]],body:m,theme:"striped",headStyles:{fillColor:[71,85,119]},columnStyles:{0:{cellWidth:70},1:{cellWidth:40,halign:"right"},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right"}},margin:{left:15}}),t=e.lastAutoTable.finalY+10,e.setFontSize(14),e.text("6. Key Recommendations",10,t),t+=10,e.setFontSize(10),this.generateRecommendations().forEach(d=>{e.text(`• ${d}`,15,t),t+=5}),e.save("mutual_fund_analysis_report.pdf")}catch(e){console.error("Error generating PDF:",e)}finally{this.downloading=!1}},generateRecommendations(){var s,a;const e=[];this.analysisReport.overlaps.maxOverlap>25&&e.push(`Consider consolidating funds with high overlap (${(s=this.analysisReport.overlaps.maxOverlapPair)==null?void 0:s.fund1_name} and ${(a=this.analysisReport.overlaps.maxOverlapPair)==null?void 0:a.fund2_name})`);const{unique_stocks:t}=this.analysisReport.diversification;t.count>100?e.push("Portfolio may be over-diversified. Consider streamlining holdings."):t.count<30&&e.push("Portfolio concentration is high. Consider adding more diversity.");const n=this.analysisReport.expenses.filter(i=>i.relative_cost>.5);return n.length>0&&e.push(`Consider reviewing high expense funds: ${n.map(i=>i.fund_name).join(", ")}`),e}}},ma={class:"analysis-container"},va={class:"mt-2"};function _a(e,t,n,s,a,i){return G(),oe("div",ma,[o(J,{class:"mb-4"},{default:c(()=>[o(H,{class:"d-flex flex-wrap"},{default:c(()=>[t[4]||(t[4]=b("span",{class:"text-h6"},"Stock Overlap Analysis",-1)),o(Oe)]),_:1}),o(Q,null,{default:c(()=>[o(Te,{headers:e.overlapHeaders,items:i.formattedOverlaps,"items-per-page":5,density:"comfortable",class:"elevation-1",hover:!0},{"item.overlap_percentage":c(({item:l})=>[o(Ie,{color:i.getOverlapColor(l.overlap_percentage),"text-color":"white"},{default:c(()=>[w(S(l.overlap_percentage)+"% ",1)]),_:2},1032,["color"])]),"item.actions":c(({item:l})=>[o(xe,{small:"",text:"",color:"primary",onClick:m=>i.showOverlapDetails(l)},{default:c(()=>t[5]||(t[5]=[w(" Details ")])),_:2},1032,["onClick"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),o(J,{class:"mb-4"},{default:c(()=>[o(H,{class:"text-h6"},{default:c(()=>t[6]||(t[6]=[w("Portfolio Diversification Analysis")])),_:1}),o(Q,null,{default:c(()=>[o(ve,{dense:""},{default:c(()=>[o(re,null,{default:c(()=>[o(J,{outlined:""},{default:c(()=>[o(H,{class:"text-subtitle-1"},{default:c(()=>[w(" Unique Stocks: "+S(n.analysisReport.diversification.unique_stocks.count),1)]),_:1}),o(Q,null,{default:c(()=>[o(Ie,{color:i.getDiversificationColor(n.analysisReport.diversification.unique_stocks.status),"text-color":"white"},{default:c(()=>[w(S(n.analysisReport.diversification.unique_stocks.status),1)]),_:1},8,["color"]),b("p",va,S(n.analysisReport.diversification.unique_stocks.recommendation),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(ve,null,{default:c(()=>[o(re,null,{default:c(()=>[o(J,null,{default:c(()=>[o(H,null,{default:c(()=>[t[7]||(t[7]=w(" Sector Analysis Details ")),o(Oe)]),_:1}),o(Q,null,{default:c(()=>[o(Te,{headers:i.sectorHeaders,items:i.sectorTableData,"items-per-page":5,density:"comfortable",class:"elevation-1"},{item:c(({item:l})=>[b("tr",null,[b("td",null,S(l.name),1),b("td",null,[o(tt,{value:l.percentage,height:"20",color:"primary"},{default:c(()=>[w(S(l.percentage.toFixed(1))+"% ",1)]),_:2},1032,["value"])])])]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o(ve,null,{default:c(()=>[o(re,null,{default:c(()=>[o(J,null,{default:c(()=>[o(H,null,{default:c(()=>[t[8]||(t[8]=w(" Performance Analysis (Returns) ")),o(Oe)]),_:1}),o(Q,null,{default:c(()=>[o(Te,{headers:i.performanceHeaders,items:i.performanceTableData,"items-per-page":5,density:"comfortable",class:"elevation-1"},null,8,["headers","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o(ve,null,{default:c(()=>[o(re,{cols:"12",sm:"6",md:"12",lg:"12"},{default:c(()=>[o(J,{outlined:""},{default:c(()=>[o(H,{class:"text-subtitle-1"},{default:c(()=>t[9]||(t[9]=[w("Fund Category Distribution")])),_:1}),o(Q,null,{default:c(()=>[(G(!0),oe(z,null,Ce(n.analysisReport.diversification.category_breakdown,(l,m)=>(G(),Se(tt,{key:m,value:l.percentage,color:i.getCategoryColor(m),height:"25",striped:""},{default:c(()=>[w(S(m)+": "+S(l.percentage)+"% ",1)]),_:2},1032,["value","color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(J,null,{default:c(()=>[o(H,{class:"text-h6"},{default:c(()=>t[10]||(t[10]=[w("Expense Ratio Analysis")])),_:1}),o(Q,null,{default:c(()=>[o(Te,{headers:e.expenseHeaders,items:n.analysisReport.expenses,"items-per-page":5,density:"comfortable",hover:!0},{"item.relative_cost":c(({item:l})=>[o(Ie,{color:i.getExpenseColor(l.relative_cost),"text-color":"white"},{default:c(()=>[w(S(l.relative_cost>0?"+":"")+S(l.relative_cost)+"% ",1)]),_:2},1032,["color"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),o(An,{modelValue:e.showDialog,"onUpdate:modelValue":t[3]||(t[3]=l=>e.showDialog=l),"max-width":"800px"},{default:c(()=>[o(J,null,{default:c(()=>[o(H,null,{default:c(()=>[t[12]||(t[12]=w(" Overlap Details ")),o(Oe),o(xe,{icon:"",onClick:t[0]||(t[0]=l=>e.showDialog=!1)},{default:c(()=>[o(qe,null,{default:c(()=>t[11]||(t[11]=[w("$mdiClose")])),_:1})]),_:1})]),_:1}),e.selectedOverlap?(G(),Se(Q,{key:0},{default:c(()=>[o(fa,{modelValue:e.activeTab,"onUpdate:modelValue":t[1]||(t[1]=l=>e.activeTab=l)},{default:c(()=>[o(De,null,{default:c(()=>t[13]||(t[13]=[w("Overlapping Stocks")])),_:1}),o(De,null,{default:c(()=>t[14]||(t[14]=[w("Unique Stocks")])),_:1}),o(De,null,{default:c(()=>t[15]||(t[15]=[w("Fund Comparison")])),_:1})]),_:1},8,["modelValue"]),o(Ye,{modelValue:e.activeTab,"onUpdate:modelValue":t[2]||(t[2]=l=>e.activeTab=l)},{default:c(()=>[o(ye,null,{default:c(()=>[o(nt,null,{default:c(()=>[b("thead",null,[b("tr",null,[t[16]||(t[16]=b("th",null,"Stock",-1)),b("th",null,S(e.selectedOverlap.comparison_metadata.fund1.name)+" (%) ",1),b("th",null,S(e.selectedOverlap.comparison_metadata.fund2.name)+" (%) ",1)])]),b("tbody",null,[(G(!0),oe(z,null,Ce(e.selectedOverlap.overlapping_stocks,l=>(G(),oe("tr",{key:l.stock_name},[b("td",null,S(l.stock_name),1),b("td",null,S(l.fund1_holding),1),b("td",null,S(l.fund2_holding),1)]))),128))])]),_:1})]),_:1}),o(ye,null,{default:c(()=>[o(ve,null,{default:c(()=>[o(re,{cols:"6"},{default:c(()=>[b("h3",null,S(e.selectedOverlap.comparison_metadata.fund1.name)+" Unique Stocks ",1),o(je,{dense:""},{default:c(()=>[(G(!0),oe(z,null,Ce(e.selectedOverlap.fund1_unique_stocks,l=>(G(),Se(Fe,{key:l},{default:c(()=>[w(S(l),1)]),_:2},1024))),128))]),_:1})]),_:1}),o(re,{cols:"6"},{default:c(()=>[b("h3",null,S(e.selectedOverlap.comparison_metadata.fund2.name)+" Unique Stocks ",1),o(je,{dense:""},{default:c(()=>[(G(!0),oe(z,null,Ce(e.selectedOverlap.fund2_unique_stocks,l=>(G(),Se(Fe,{key:l},{default:c(()=>[w(S(l),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),o(ye,null,{default:c(()=>[o(nt,null,{default:c(()=>[b("thead",null,[b("tr",null,[t[17]||(t[17]=b("th",null,"Metric",-1)),b("th",null,S(e.selectedOverlap.comparison_metadata.fund1.name),1),b("th",null,S(e.selectedOverlap.comparison_metadata.fund2.name),1)])]),b("tbody",null,[b("tr",null,[t[18]||(t[18]=b("td",null,"AUM (millions)",-1)),b("td",null,S(e.selectedOverlap.comparison_metadata.fund1.aum),1),b("td",null,S(e.selectedOverlap.comparison_metadata.fund2.aum),1)]),b("tr",null,[t[19]||(t[19]=b("td",null,"Star Rating",-1)),b("td",null,[o(ct,{value:e.selectedOverlap.comparison_metadata.fund1.star_rating,readonly:"",small:"",dense:""},null,8,["value"])]),b("td",null,[o(ct,{value:e.selectedOverlap.comparison_metadata.fund2.star_rating,readonly:"",small:"",dense:""},null,8,["value"])])]),b("tr",null,[t[20]||(t[20]=b("td",null,"Expense Ratio",-1)),b("td",null,S(e.selectedOverlap.comparison_metadata.fund1.expenses_ratio)+"% ",1),b("td",null,S(e.selectedOverlap.comparison_metadata.fund2.expenses_ratio)+"% ",1)])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):On("",!0)]),_:1})]),_:1},8,["modelValue"])])}const Ta=Ht(pa,[["render",_a],["__scopeId","data-v-f8a46b76"]]),Ca=j`
    query  GetStocks{
        stock{
            id
            company_name
        }
    }
`,Sa=j`
query  GetUserMFPortfolio($email: String!){
        portfolio_mutual_funds(where: {user: {email : {_eq: $email}}}){
						mutual_fund{
              id
              name
              return_3Y
              star_rating
            }   
  			}
}
`,Na=j`
mutation InsertMFPortfolio($object: portfolio_mutual_funds_insert_input!) {
  insert_portfolio_mutual_funds_one(object: $object) {
    mutual_fund_id
    user_id
  }
}
`,Oa=j`
mutation deleteUserMutualFundPortfolio($mutual_fund_id: Int!, $email: String!){
  delete_portfolio_mutual_funds(where: {
    mutual_fund_id: {_eq: $mutual_fund_id},
    user: {email: {_eq: $email}}
  }){
    affected_rows
  }
}
`,Aa=j`
query  GetUserStockPortfolio($email: String!){
        portfolio_stocks(where: {user: {email : {_eq: $email}}}){
						stock{
              id
              company_name
            }   
  			}
}
`,Ia=j`
mutation InsertStockPortfolio($object: portfolio_stocks_insert_input!) {
  insert_portfolio_stocks_one(object: $object) {
    stock_id
    user_id
  }
}
`,wa=j`
mutation deleteUserStockPortfolio($stock_id: Int!, $email: String!){
  delete_portfolio_stocks(where: {
    stock_id: {_eq: $stock_id},
    user: {email: {_eq: $email}}
  }){
    affected_rows
  }
}
`,Da=j`
query UserStockPortfolio($email: String!, $fromDate: date!, $toDate: date!, $fromDateTime: timestamptz!, $toDateTime: timestamptz!){
  portfolio_stocks(where: {user:{email: {_eq: $email}}}){
    stock{
      company_name
      stock_price_dailies(where: {price_date: {_gte: $fromDate, _lte: $toDate}}){
        open
        high
        low
        volume
        price_date
      }
      stock_announcements (where: {announcement_sentiment:{_gt:-1}, announcement_date: {_gte: $fromDate, _lte: $toDate}}){
        announcement_date
        announcement_text_summary
        announcement_impact
        announcement_document_link
        announcement_sentiment
      }
      insider_trades (where: {created_at: {_gte: $fromDateTime, _lte: $toDateTime}}){
        intimation_date
        name_of_insider
        number_of_securities_transacted
        number_of_securities_after_transaction
        number_of_securities_before_transaction
        type_of_security
        shareholding_before_transaction
        shareholding_after_transaction
        mode_of_transaction
        transaction_type
        category_of_insider
      }
    }
    
  }
  
}
`;function ga(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?o(z,null,[o("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),o("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),o("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const ya=de({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Qt({filterKeys:["title"]}),...Jt(),...Ke(Xt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Zt({transition:!1})},"VAutocomplete"),Ra=he()({name:"VAutocomplete",props:ya(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:s}=gt(),a=ue(),i=le(!1),l=le(!0),m=le(!1),y=ue(),d=ue(),p=ce(e,"menu"),_=F({get:()=>p.value,set:u=>{var x;p.value&&!u&&((x=y.value)!=null&&x.ΨopenChildren.size)||(p.value=u)}}),h=le(-1),C=F(()=>{var u;return(u=a.value)==null?void 0:u.color}),E=F(()=>_.value?e.closeText:e.openText),{items:v,transformIn:O,transformOut:A}=en(e),{textColorClasses:N,textColorStyles:B}=vt(C),k=ce(e,"search",""),g=ce(e,"modelValue",[],u=>O(u===null?[null]:Sn(u)),u=>{const x=A(u);return e.multiple?x:x[0]??null}),W=F(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:g.value.length),U=tn(e),{filteredItems:K,getMatches:ne}=nn(e,v,()=>l.value?"":k.value),P=F(()=>e.hideSelected?K.value.filter(u=>!g.value.some(x=>x.value===u.value)):K.value),ae=F(()=>!!(e.chips||n.chip)),se=F(()=>ae.value||!!n.selection),Pe=F(()=>g.value.map(u=>u.props.value)),me=F(()=>{var x;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&k.value===((x=P.value[0])==null?void 0:x.title))&&P.value.length>0&&!l.value&&!m.value}),ie=F(()=>e.hideNoData&&!P.value.length||U.isReadonly.value||U.isDisabled.value),Me=ue(),St=an(Me,a);function Nt(u){e.openOnClear&&(_.value=!0),k.value=""}function Ot(){ie.value||(_.value=!0)}function At(u){ie.value||(i.value&&(u.preventDefault(),u.stopPropagation()),_.value=!_.value)}function It(u){var x;Cn(u)&&((x=a.value)==null||x.focus())}function wt(u){var T,I,$;if(U.isReadonly.value)return;const x=a.value.selectionStart,D=g.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(u.key))&&u.preventDefault(),["Enter","ArrowDown"].includes(u.key)&&(_.value=!0),["Escape"].includes(u.key)&&(_.value=!1),me.value&&["Enter","Tab"].includes(u.key)&&!g.value.some(L=>{let{value:M}=L;return M===P.value[0].value})&&X(P.value[0]),u.key==="ArrowDown"&&me.value&&((T=Me.value)==null||T.focus("next")),["Backspace","Delete"].includes(u.key)){if(!e.multiple&&se.value&&g.value.length>0&&!k.value)return X(g.value[0],!1);if(~h.value){const L=h.value;X(g.value[h.value],!1),h.value=L>=D-1?D-2:L}else u.key==="Backspace"&&!k.value&&(h.value=D-1)}if(e.multiple){if(u.key==="ArrowLeft"){if(h.value<0&&x>0)return;const L=h.value>-1?h.value-1:D-1;g.value[L]?h.value=L:(h.value=-1,a.value.setSelectionRange((I=k.value)==null?void 0:I.length,($=k.value)==null?void 0:$.length))}if(u.key==="ArrowRight"){if(h.value<0)return;const L=h.value+1;g.value[L]?h.value=L:(h.value=-1,a.value.setSelectionRange(0,0))}}}function Dt(u){if(it(a.value,":autofill")||it(a.value,":-webkit-autofill")){const x=v.value.find(D=>D.title===u.target.value);x&&X(x)}}function Rt(){var u;e.eager&&((u=d.value)==null||u.calculateVisibleItems())}function Ft(){var u;i.value&&(l.value=!0,(u=a.value)==null||u.focus())}function Lt(u){i.value=!0,setTimeout(()=>{m.value=!0})}function Vt(u){m.value=!1}function Pt(u){(u==null||u===""&&!e.multiple&&!se.value)&&(g.value=[])}const Be=le(!1);function X(u){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!u||u.props.disabled))if(e.multiple){const D=g.value.findIndex(I=>e.valueComparator(I.value,u.value)),T=x??!~D;if(~D){const I=T?[...g.value,u]:[...g.value];I.splice(D,1),g.value=I}else T&&(g.value=[...g.value,u]);e.clearOnSelect&&(k.value="")}else{const D=x!==!1;g.value=D?[u]:[],k.value=D&&!se.value?u.title:"",rt(()=>{_.value=!1,l.value=!0})}}return Ne(i,(u,x)=>{var D;u!==x&&(u?(Be.value=!0,k.value=e.multiple||se.value?"":String(((D=g.value.at(-1))==null?void 0:D.props.title)??""),l.value=!0,rt(()=>Be.value=!1)):(!e.multiple&&k.value==null&&(g.value=[]),_.value=!1,g.value.some(T=>{let{title:I}=T;return I===k.value})||(k.value=""),h.value=-1))}),Ne(k,u=>{!i.value||Be.value||(u&&(_.value=!0),l.value=!u)}),Ne(_,()=>{if(!e.hideSelected&&_.value&&g.value.length){const u=P.value.findIndex(x=>g.value.some(D=>x.value===D.value));En&&window.requestAnimationFrame(()=>{var x;u>=0&&((x=d.value)==null||x.scrollToIndex(u))})}}),Ne(()=>e.items,(u,x)=>{_.value||i.value&&!x.length&&u.length&&(_.value=!0)}),fe(()=>{const u=!!(!e.hideNoData||P.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),x=g.value.length>0,D=at.filterProps(e);return o(at,q({ref:a},D,{modelValue:k.value,"onUpdate:modelValue":[T=>k.value=T,Pt],focused:i.value,"onUpdate:focused":T=>i.value=T,validationValue:g.externalValue,counterValue:W.value,dirty:x,onChange:Dt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":_.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!se.value,"v-autocomplete--selecting-index":h.value>-1},e.class],style:e.style,readonly:U.isReadonly.value,placeholder:x?void 0:e.placeholder,"onClick:clear":Nt,"onMousedown:control":Ot,onKeydown:wt}),{...n,default:()=>o(z,null,[o(sn,q({ref:y,modelValue:_.value,"onUpdate:modelValue":T=>_.value=T,activator:"parent",contentClass:"v-autocomplete__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Rt,onAfterLeave:Ft},e.menuProps),{default:()=>[u&&o(je,q({ref:Me,selected:Pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:It,onFocusin:Lt,onFocusout:Vt,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},St,e.listProps),{default:()=>{var T,I,$;return[(T=n["prepend-item"])==null?void 0:T.call(n),!P.value.length&&!e.hideNoData&&(((I=n["no-data"])==null?void 0:I.call(n))??o(Fe,{title:s(e.noDataText)},null)),o(rn,{ref:d,renderless:!0,items:P.value},{default:L=>{var Xe;let{item:M,index:Z,itemRef:Y}=L;const Je=q(M.props,{ref:Y,key:Z,active:me.value&&Z===0?!0:void 0,onClick:()=>X(M,null)});return((Xe=n.item)==null?void 0:Xe.call(n,{item:M,index:Z,props:Je}))??o(Fe,q(Je,{role:"option"}),{prepend:be=>{let{isSelected:Ee}=be;return o(z,null,[e.multiple&&!e.hideSelected?o(on,{key:M.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,M.props.prependAvatar&&o(ln,{image:M.props.prependAvatar},null),M.props.prependIcon&&o(qe,{icon:M.props.prependIcon},null)])},title:()=>{var be,Ee;return l.value?M.title:ga(M.title,(be=ne(M))==null?void 0:be.title,((Ee=k.value)==null?void 0:Ee.length)??0)}})}}),($=n["append-item"])==null?void 0:$.call(n)]}})]}),g.value.map((T,I)=>{function $(Y){Y.stopPropagation(),Y.preventDefault(),X(T,!1)}const L={"onClick:close":$,onKeydown(Y){Y.key!=="Enter"&&Y.key!==" "||(Y.preventDefault(),Y.stopPropagation(),$(Y))},onMousedown(Y){Y.preventDefault(),Y.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},M=ae.value?!!n.chip:!!n.selection,Z=M?kn(ae.value?n.chip({item:T,index:I,props:L}):n.selection({item:T,index:I})):void 0;if(!(M&&!Z))return o("div",{key:T.value,class:["v-autocomplete__selection",I===h.value&&["v-autocomplete__selection--selected",N.value]],style:I===h.value?B.value:{}},[ae.value?n.chip?o(un,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:T.title}}},{default:()=>[Z]}):o(Ie,q({key:"chip",closable:e.closableChips,size:"small",text:T.title,disabled:T.props.disabled},L),null):Z??o("span",{class:"v-autocomplete__selection-text"},[T.title,e.multiple&&I<g.value.length-1&&o("span",{class:"v-autocomplete__selection-comma"},[w(",")])])])})]),"append-inner":function(){var L;for(var T=arguments.length,I=new Array(T),$=0;$<T;$++)I[$]=arguments[$];return o(z,null,[(L=n["append-inner"])==null?void 0:L.call(n,...I),e.menuIcon?o(qe,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:At,onClick:Tn,"aria-label":s(E.value),title:s(E.value),tabindex:"-1"},null):void 0])}})}),_t({isFocused:i,isPristine:l,menu:_,search:k,filteredItems:K,select:X},a)}});export{Oa as D,Sa as G,Na as I,Ta as M,Ra as V,Oe as a,Da as b,Ia as c,wa as d,Aa as e,Ca as f};
//# sourceMappingURL=VAutocomplete-iMSP_ZzA.js.map
