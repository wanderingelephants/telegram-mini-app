{"version":3,"file":"DipSipChat-BSEMBOKt.js","sources":["../../src/views/DipSipChat.vue"],"sourcesContent":["<template>\n  <v-container fluid class=\"fill-height pa-0\">\n    <v-responsive>\n    <v-row no-gutters class=\"fill-height\">\n        \n      <v-col\n        cols=\"12\"\n      >\n        <v-card class=\"fill-height d-flex flex-column ma-2\">\n          <v-card-title  class=\"text-wrap\">Regret Buying on Highs or Missing the Lows ?</v-card-title>\n          <v-card-subtitle\n            >Try DipSIP. A proven contra strategy.</v-card-subtitle\n          >\n          <v-card-text class=\"d-flex align-center flex-wrap\">\n            <google-sign-in/>\n            <span>Select ETFs below, Invest Rs.</span>\n            <v-select\n              theme=\"light\"\n              @update:menu=\"frameworkParamsChanged\"\n              v-model=\"base_amt\"\n              :items=\"[\n                '100',\n                '1000',\n                '2000',\n                '5000',\n                '10000'\n              ]\"\n              variant=\"underlined\"\n              label=\"\"\n              class=\"mx-1 mb-4\"\n              style=\"max-width: 80px; min-width: 50px\"\n              density=\"compact\"\n              hide-details\n            />\n            <span\n              >in each, whenever they dip by more than</span>\n            <v-select\n              theme=\"light\"\n              label=\"\"\n              max-width=\"40px\"\n              @update:menu=\"frameworkParamsChanged\"\n              v-model=\"trigger\"\n              :items=\"['1', '2', '3', '4', '5']\"\n              variant=\"underlined\"\n              style=\"max-width: 50px; min-width: 50px\"\n              class=\"mx-1 mb-4\"\n              density=\"compact\"\n              hide-details\n            />\n            <span> %, any day.</span>\n          </v-card-text>\n          <v-row no-gutters class=\"mt-2\">\n            <v-col cols=\"12\">\n              <v-card class=\"pb-2\" color=\"amber\" theme=\"light\" max-width=\"100%\">\n                <v-card-title class=\"d-flex justify-space-between align-center\">\n                  Select Your Index Funds\n                  <a\n                    href=\"#\"\n                    @click.prevent=\"selectionCriteriaDialog = true\"\n                    class=\"text-right text-decoration-none\"\n                  >\n                    Selection Criteria\n                  </a>\n                </v-card-title>\n                <v-autocomplete\n                v-model=\"selectedFunds\"\n                :items=\"fundList\"\n                item-title=\"displayName\"\n                :custom-filter=\"customFilter\"\n                item-value=\"id\"\n                :label=\"\n                  'Select Mutual Funds ' +\n                  (selectedFunds.length\n                    ? `(${selectedFunds.length} selected)`\n                    : '')\n                \"\n                multiple\n                chips\n                return-object\n                closable-chips\n                persistent-hint\n                hint=\"Partial match works while typing e.g. 'Motilal Small'\"\n                :search=\"searchText\"\n                @update:search=\"handleSearch\"\n              >\n                <template v-slot:chip=\"{ props, item }\">\n                  <v-chip\n                    v-bind=\"props\"\n                    :text=\"item.raw.name\"\n                    variant=\"elevated\"\n                  >\n                    <v-icon start>$mdiChartLine</v-icon>\n                    {{ item.raw.name }}\n                  </v-chip>\n                </template>\n              </v-autocomplete>\n                <v-dialog v-model=\"selectionCriteriaDialog\" width=\"500\">\n                  <v-card\n                    class=\"pb-2\"\n                    color=\"amber\"\n                    theme=\"light\"\n                    max-width=\"100%\"\n                  >\n                    <v-card-title class=\"text-h5 grey lighten-2\">\n                      Selection Criteria\n                    </v-card-title>\n                    <v-card-action>\n                      <v-btn\n                        class=\"v-btn v-theme--light text-primary v-btn--density-default v-btn--size-default v-btn--variant-outlined\"\n                        block\n                        @click=\"selectionCriteriaDialog = false\"\n                        >Close</v-btn\n                      >\n                    </v-card-action>\n                    <v-card-text class=\"mt-4\">\n                      <ul>\n                        <li>\n                          One of the core objectives of this Platform is to\n                          declutter and filter the investment options for end\n                          users.\n                        </li>\n                        <li>\n                          With more than 2500 Mutual Fund schemes alone, it is\n                          tough to filter. Cost comes later.\n                        </li>\n                        <li>\n                          We believe Passive Investments offer best risk\n                          adjusted returns over long term.\n                        </li>\n                        <li>\n                          Hence, we will present to users de-duplicated ETFs,\n                          which are low cost, liquid and there is public data to\n                          analyze them.\n                        </li>\n                        <li>\n                          See section <a href=\"etfList\">ETFs</a> for more\n                          details\n                        </li>\n                      </ul>\n                    </v-card-text>\n                  </v-card>\n                </v-dialog>\n                <v-card-actions>\n                  <button v-if=\"loggedInGoogle == true && userGoogle.tg_id !== ''\"\n            @click=\"saveConfig\"\n            class=\"v-btn v-theme--light text-primary v-btn--density-default v-btn--size-default v-btn--variant-outlined\"\n          >\n            Save\n          </button>\n          <button v-if=\"loggedInGoogle == true && userGoogle.tg_id !== ''\"\n            @click=\"deleteConfig\"\n            class=\"v-btn v-theme--light text-primary v-btn--density-default v-btn--size-default v-btn--variant-outlined\"\n          >\n            Unsubscribe\n          </button>\n                </v-card-actions>\n              </v-card>\n            </v-col>\n          </v-row>\n          <v-row no-gutters class=\"mt-1\">\n        <v-dialog v-model=\"showSaveConfigDialog\" max-width=\"430px\">\n        <v-card theme=\"light\" color=\"secondary\" dense>\n          <v-card-title class=\"d-flex justify-space-between align-center\">\n            Confirm Your Parameters\n          </v-card-title>\n          <v-row>\n            <v-col cols=\"4\">\n              <v-card-text>Amount: {{ base_amt }}</v-card-text>\n            </v-col>\n            <v-col cols=\"4\">\n              <v-card-text>Trigger: {{ trigger }}</v-card-text>\n            </v-col>\n          </v-row>\n          <v-card-text\n            >ETFs: {{ etfSelected.map((e) => e.title).join(\", \") }}</v-card-text\n          >\n          <v-card-actions> \n            <v-btn block @click=\"saveConfigApi\">Save</v-btn>\n          </v-card-actions>\n          <v-card-actions>\n            <v-btn block @click=\"showSaveConfigDialog = false\">Cancel</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-snackbar\n        v-model=\"snackbar.show\"\n        :timeout=\"snackbar.timeout\"\n        :color=\"snackbar.color\"\n        >{{ snackbar.message }}</v-snackbar\n      >\n      </v-row>\n        </v-card>\n      </v-col>\n    </v-row>\n    </v-responsive>\n  </v-container>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport api from \"./api\";\nimport {\n  GET_USER_MF_PORTFOLIO,\n  INSERT_USER_MF_PORTFOLIO,\n  DELETE_USER_MF_PORTFOLIO,\n  INSERT_USER_CONFIG, DELETE_USER_CONFIG\n} from \"../lib/helper/queries\";\n\nexport default {\n  components: {\n  },\n  computed: mapState([\n    // map this.count to store.state.count\n    \"loggedInGoogle\",\n    \"userGoogle\",\n  ]),\n  watch: {\n    async loggedInGoogle(newVal) {},\n    async userGoogle(newVal) {\n      if (newVal && newVal.email) {\n        if (this.fundList.length === 0) await this.fetchFundList();\n        await this.getUserMFPortfolio();\n      }\n    },\n  },\n  async mounted() {\n    \n  },\n  data() {\n    return {\n      userInput: \"\",\n      messages: [],\n      isLoading: false,\n      selectionCriteriaDialog: false,\n      fundList: [],\n      selectedFunds: [],\n      portfolio: [],\n      searchText: \"\",\n      \n      etfList: [],\n      etfSelected: [],\n      base_amt : 100,\n      base_amtShort : '100',\n      trigger: 1,\n      buy_factor: 1,\n      snackbar: {\n        show: false,\n        message: \"\",\n        timeout: 3000,\n        color: \"orange\",\n      },\n      showSaveConfigDialog: false,\n      title: 'Your Financial Assistant',\n      subTitles: ['Ask about DipSIP and how it is useful'],\n      userInputLabel: \"Ask about DipSIP. No Trading tips.\",\n      debug: false,\n      systemPrompt: \"dipsip\"\n    };\n  },\n  methods: {\n    async sendMessage() {},\n    async saveConfig() {\n      await  this.updatePortfolio()\n      await  this.saveConfigKeyVal()\n      this.snackbar.message = \"Saved\"\n      this.snackbar.color = \"green\"\n      this.snackbar.show = true\n    },\n    async deleteConfig(){\n      try{\n        await this.$apollo.query({\n          query: DELETE_USER_CONFIG,\n          variables: {\n            email: this.userGoogle.email,\n            key: \"dipsip_etf_config\"\n          },\n          fetchPolicy: \"no-cache\", \n        })\n        this.snackbar.message = \"Unsubscribed\"\n        this.snackbar.color = \"green\"\n        this.snackbar.show = true\n        await this.getUserMFPortfolio()\n      }\n      catch(e){\n        console.error(e)\n      }\n    },\n    async saveConfigKeyVal(){\n      try{\n        await this.$apollo.query({\n          query: INSERT_USER_CONFIG, \n          variables:{\n            \"object\":{\n              \"key\": \"dipsip_etf_config\",\n              \"value\": JSON.stringify({trigger: this.trigger, base_amt: this.base_amt, buy_factor: this.buy_factor}),\n              \"user\": {\n                \"data\": {\n                  \"email\": this.userGoogle.email,\n                  \"google_id\": this.userGoogle.uid\n                },\n                \"on_conflict\": {\n                  \"constraint\": \"users_email_key\",\n                  \"update_columns\": [\"email\"]\n                }\n              }\n            }\n          },\n          fetchPolicy: \"no-cache\",\n          \n        })\n      }\n      catch(e){\n        console.error(e)\n      }\n    },\n    handleSearch(val) {\n      // The search text will be available in 'val'\n      this.searchText = val;\n    },\n    frameworkParamsChanged(){\n        /*this.base_amt = this.base_amtShort.indexOf(' k') > -1 ?\n        this.base_amtShort.substring(0, this.base_amtShort.length - 2) * 1000:\n        this.base_amtShort * 1*/\n    },\n    customFilter(item, queryText) {\n      const itemText = item.toLowerCase();\n      const searchText = queryText.toLowerCase();\n      const searchWords = searchText.split(/\\s+/);\n      return searchWords.every((word) => itemText.includes(word));\n    },\n    async updatePortfolio() {\n      const previousStocks = new Set(this.portfolio.map((stock) => stock.id)); // Old selection\n      const currentStocks = new Set(\n        this.selectedFunds.map((stock) => stock.id)\n      ); // New selection\n      const inserts = this.selectedFunds.filter(\n        (stock) => !previousStocks.has(stock.id)\n      );\n      // Deletes: Stocks that are in `portfolio` but NOT in `selectedStocks`\n      const deletes = this.portfolio.filter(\n        (stock) => !currentStocks.has(stock.id)\n      );\n      \n      for (const [index, item] of inserts.entries()) {\n        try {\n          const resp = await this.$apollo.query({\n            query: INSERT_USER_MF_PORTFOLIO,\n            variables: {\n              object: {\n                mutual_fund_id: item.id,\n                user: {\n                  data: {\n                    email: this.userGoogle.email,\n                    google_id: this.userGoogle.uid,\n                  },\n                  on_conflict: {\n                    constraint: \"users_email_key\",\n                    update_columns: [\"email\"],\n                  },\n                },\n              },\n            },\n            fetchPolicy: \"no-cache\",\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      }\n      for (const [index, item] of deletes.entries()) {\n        try {\n          const resp = await this.$apollo.query({\n            query: DELETE_USER_MF_PORTFOLIO,\n            variables: {\n              mutual_fund_id: item.id,\n              email: this.userGoogle.email,\n            },\n            fetchPolicy: \"no-cache\",\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    },\n    async getUserMFPortfolio() {\n      if (!this.userGoogle.email) return;\n      try {\n        const resp = await this.$apollo.query({\n          query: GET_USER_MF_PORTFOLIO,\n          variables: {\n            email: this.userGoogle.email,\n          },\n        });\n        \n        this.selectedMFs = resp.data.portfolio_mutual_funds.filter(m => m.mutual_fund.isDipSipETF === true).map((m) => {\n          let returnsLabel = m.mutual_fund.return_3Y\n            ? \" (3 Y Returns \" + m.mutual_fund.return_3Y + \" %)\"\n            : \"\";\n          for (let i = 1; i <= m.mutual_fund.star_rating; i++)\n            returnsLabel += \"⭐\";\n          return {\n            id: m.mutual_fund.id,\n            name: m.mutual_fund.name,\n            displayName: m.mutual_fund.name + returnsLabel,\n          };\n        });\n        this.selectedFunds = this.selectedMFs;\n        this.portfolio = this.selectedMFs;\n        const userConfig = resp.data.users[0].user_configs.filter(c => c.key === \"dipsip_etf_config\")\n        \n        if (userConfig && userConfig.length > 0){\n          const userConfigObj = JSON.parse(userConfig[0].value)\n        this.trigger = userConfigObj.trigger\n        this.base_amt = userConfigObj.base_amt\n        this.buy_factor = userConfigObj.buy_factor\n        }\n        else {\n          this.trigger = 1\n          this.base_amt = 100\n          this.buy_factor = 1\n        }\n        \n      } catch (e) {\n        console.error(e);\n      }\n    },\n    async fetchFundList() {\n      try {\n        const response = await api.get(\"/api/mutualfunds/list?isDipSipETF=true\");\n        this.fundList = response.data.map((m) => {\n          let returnsLabel = m.return_3Y\n            ? \" (3 Y Returns \" + m.return_3Y + \" %)\"\n            : \"\";\n          for (let i = 1; i <= m.star_rating; i++) returnsLabel += \"⭐\";\n          return {\n            id: m.id,\n            name: m.name,\n            displayName: m.name + returnsLabel,\n          };\n        });\n      } catch (error) {\n        console.error(\"Error fetching fund list:\", error);\n      }\n    },\n\n    scrollToBottom() {\n      const container = this.$refs.messagesContainer;\n      if (container) {\n        container.scrollTop = container.scrollHeight;\n      }\n    }\n  },\n};\n</script>\n<style scoped>\n.left-panel {\n  height: 100vh;\n  position: sticky;\n  top: 0;\n  overflow-y: auto;\n}\n\n.right-panel {\n  height: 100vh;\n  overflow-y: auto;\n}\n\n@media (max-width: 960px) {\n  .left-panel {\n    height: auto;\n    position: relative;\n  }\n}\n</style>\n"],"names":["_sfc_main","mapState","newVal","DELETE_USER_CONFIG","e","INSERT_USER_CONFIG","val","item","queryText","itemText","word","previousStocks","stock","currentStocks","inserts","deletes","index","resp","INSERT_USER_MF_PORTFOLIO","DELETE_USER_MF_PORTFOLIO","GET_USER_MF_PORTFOLIO","m","returnsLabel","i","userConfig","c","userConfigObj","response","api","error","container","_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_responsive","_component_v_row","_component_v_col","_component_v_card","_component_v_card_title","_cache","_createTextVNode","_component_v_card_subtitle","_component_v_card_text","_component_google_sign_in","_createElementVNode","_component_v_select","$options","$data","$event","_withModifiers","_component_v_autocomplete","props","_component_v_chip","_mergeProps","_component_v_icon","_toDisplayString","_component_v_dialog","_component_v_card_action","_component_v_btn","_component_v_card_actions","_ctx","_createElementBlock","args","_createCommentVNode","_component_v_snackbar"],"mappings":"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"}